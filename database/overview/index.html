<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IIJ Bootcamp</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Databaseがとても面白いと思ってもらえる機会を作りたいと思います">
    
    <link rel="preload" href="/bootcamp/assets/css/0.styles.9db5c86c.css" as="style"><link rel="preload" href="/bootcamp/assets/js/app.f01dedbe.js" as="script"><link rel="preload" href="/bootcamp/assets/js/2.68741f0d.js" as="script"><link rel="preload" href="/bootcamp/assets/js/19.fc7d6360.js" as="script"><link rel="preload" href="/bootcamp/assets/js/12.05e2fc56.js" as="script"><link rel="preload" href="/bootcamp/assets/js/11.df4b08af.js" as="script"><link rel="prefetch" href="/bootcamp/assets/js/10.4445e0d5.js"><link rel="prefetch" href="/bootcamp/assets/js/13.935122b7.js"><link rel="prefetch" href="/bootcamp/assets/js/14.793dd348.js"><link rel="prefetch" href="/bootcamp/assets/js/15.a9636e47.js"><link rel="prefetch" href="/bootcamp/assets/js/16.804d2bab.js"><link rel="prefetch" href="/bootcamp/assets/js/17.94dc508c.js"><link rel="prefetch" href="/bootcamp/assets/js/18.d52b16dc.js"><link rel="prefetch" href="/bootcamp/assets/js/20.01b46936.js"><link rel="prefetch" href="/bootcamp/assets/js/21.a5cb96f0.js"><link rel="prefetch" href="/bootcamp/assets/js/22.67e381b1.js"><link rel="prefetch" href="/bootcamp/assets/js/23.76b9b59d.js"><link rel="prefetch" href="/bootcamp/assets/js/24.1a9caac1.js"><link rel="prefetch" href="/bootcamp/assets/js/25.ffbf183a.js"><link rel="prefetch" href="/bootcamp/assets/js/26.3a062efe.js"><link rel="prefetch" href="/bootcamp/assets/js/27.5a3dce37.js"><link rel="prefetch" href="/bootcamp/assets/js/28.c635e672.js"><link rel="prefetch" href="/bootcamp/assets/js/29.bfc21ad5.js"><link rel="prefetch" href="/bootcamp/assets/js/3.21cbc866.js"><link rel="prefetch" href="/bootcamp/assets/js/30.e85ee2e6.js"><link rel="prefetch" href="/bootcamp/assets/js/31.22f9bafc.js"><link rel="prefetch" href="/bootcamp/assets/js/32.0f210bea.js"><link rel="prefetch" href="/bootcamp/assets/js/33.4a057d50.js"><link rel="prefetch" href="/bootcamp/assets/js/34.329da3b0.js"><link rel="prefetch" href="/bootcamp/assets/js/35.68ae6288.js"><link rel="prefetch" href="/bootcamp/assets/js/36.913102d3.js"><link rel="prefetch" href="/bootcamp/assets/js/37.d29d7bb8.js"><link rel="prefetch" href="/bootcamp/assets/js/38.e50d6b43.js"><link rel="prefetch" href="/bootcamp/assets/js/39.de1bbe8d.js"><link rel="prefetch" href="/bootcamp/assets/js/4.370269c0.js"><link rel="prefetch" href="/bootcamp/assets/js/40.8c1afd96.js"><link rel="prefetch" href="/bootcamp/assets/js/41.0218cde8.js"><link rel="prefetch" href="/bootcamp/assets/js/42.8f059e64.js"><link rel="prefetch" href="/bootcamp/assets/js/43.1b3a4ec2.js"><link rel="prefetch" href="/bootcamp/assets/js/44.d802aecc.js"><link rel="prefetch" href="/bootcamp/assets/js/45.98326636.js"><link rel="prefetch" href="/bootcamp/assets/js/46.c91c49ac.js"><link rel="prefetch" href="/bootcamp/assets/js/47.7be101f0.js"><link rel="prefetch" href="/bootcamp/assets/js/48.a3f97ef4.js"><link rel="prefetch" href="/bootcamp/assets/js/49.a6941fb7.js"><link rel="prefetch" href="/bootcamp/assets/js/5.3bd6ee43.js"><link rel="prefetch" href="/bootcamp/assets/js/6.45ae9304.js"><link rel="prefetch" href="/bootcamp/assets/js/7.6078e7cb.js"><link rel="prefetch" href="/bootcamp/assets/js/8.236bf387.js"><link rel="prefetch" href="/bootcamp/assets/js/9.0e668efe.js">
    <link rel="stylesheet" href="/bootcamp/assets/css/0.styles.9db5c86c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bootcamp/" class="home-link router-link-active"><!----> <span class="site-name">IIJ Bootcamp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bootcamp/database/overview/#目次" class="sidebar-link">目次</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#データ、データベースの関係" class="sidebar-link">データ、データベースの関係</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#rdbms-relational-database-management-system" class="sidebar-link">RDBMS(Relational Database Management System)</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#relational-model" class="sidebar-link">Relational Model</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#sql" class="sidebar-link">SQL</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#acid特性" class="sidebar-link">ACID特性</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#データの保全" class="sidebar-link">データの保全</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#データベースの中で起きている事を知る" class="sidebar-link">データベースの中で起きている事を知る</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#rdbmsが突きつけられた課題" class="sidebar-link">RDBMSが突きつけられた課題</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#rdbmsに代る選択肢" class="sidebar-link">RDBMSに代る選択肢</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#database-as-a-service" class="sidebar-link">Database as a Service</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/database/overview/#最適解" class="sidebar-link">最適解</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><table><tr><td>このハンズオンでやること</td><td>Databaseがとても面白いと思ってもらえる機会を作りたいと思います</td></tr> <tr><td>想定時間</td><td>1h</td></tr> <tr><td>前提知識・用語</td><td>なし</td></tr></table> <h1 id="database-overview"><a href="#database-overview" class="header-anchor">#</a> Database Overview</h1> <p>Databaseとはいかなる道具かを知るきっかけを与える場として本企画に賛同してこの資料をまとめます。
アプリケーション開発者を目指す方にはデータとの向き合い方を考える一材料として、あるいはDatabaseを
専門的に取り組む事を目指す方にはこれを機に幅広い知識を自ら深める入り口を与えられる事を期待します</p> <h2 id="目次"><a href="#目次" class="header-anchor">#</a> 目次</h2> <ol><li>データ、データベースの関係</li> <li>RDBMS(Relational Database Management System)</li> <li>Relational Model</li> <li>SQL(Query)</li> <li>ACID特性</li> <li>データの保全</li> <li>データベースの中で起きている事を知る</li> <li>RDBMSが突きつけられた課題</li> <li>RDBMSに代る選択肢</li> <li>Database as a Service</li> <li>最適解は何か</li></ol> <h2 id="データ、データベースの関係"><a href="#データ、データベースの関係" class="header-anchor">#</a> データ、データベースの関係</h2> <ol><li><p>データとは
　「ISO/IEC 2382-1」および日本工業規格の「X0001 情報処理用語-基本用語」において「データ」の用語定義は
&quot;A reinterpretable representation of information in a formalized manner suitable for communication, interpretation, or processing.&quot;
「情報の表現であって、伝達、解釈または処理に適するように形式化され、再度情報として解釈できるもの」とされている</p> <p>出典:WIKIPEDIA</p></li> <li><p>データベースとは
　　データベースとは、構造化した情報またはデータの組織的な集合であり、通常はコンピューター・システムに電子的に格納されています。データベースは通常、データベース管理システム
（DBMS）で制御します。データとDBMS、およびそれらに関連するアプリケーションをまとめてデータベース・システムと呼びます。多くの場合は単にデータベースと呼んでいます。</p> <p>出典: <a href="https://www.oracle.com/jp/database/what-is-database/" target="_blank" rel="noopener noreferrer">https://www.oracle.com/jp/database/what-is-database/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>*受講者の方に質問
　  Q.「データベースといって思い浮かべるものは、何ですか？」
　A.「　　　　」</p></li></ol> <h2 id="rdbms-relational-database-management-system"><a href="#rdbms-relational-database-management-system" class="header-anchor">#</a> RDBMS(Relational Database Management System)</h2> <ol><li><p>RDBMS(Relational Database Management System)
関係（かんけい、リレーション、英: Relation）とは関係モデル（リレーショナルモデル）において、一つの見出しと0以上の同じ型の組(タブル、行)の
順序づけられていない集合からなるデータ構造のことである</p> <p><img src="/bootcamp/assets/img/Relational_model_concepts_ja.a873849a.png" alt="Relation" title="Relation"></p> <p>出典:WIKIPEDIA</p> <p>RDBMSにおいてはデータを行と列から構成される2次元の表形式で表す事が多く、ここからはTABLE(表)を使ったデータモデルを例に
講義を進めます</p></li></ol> <h2 id="relational-model"><a href="#relational-model" class="header-anchor">#</a> Relational Model</h2> <ol><li>もう少し身近なデータを使って「関係」を表現してみます
<ul><li>2021年度新入社員の関係性に関するデータをモデル化<div class="language- extra-class"><pre class="language-text"><code>// emp
EMPNO DEPNO ENAME     JOB      MGR  HIREDATE   SAL
1     10    moriyasu  CEO      null 1992-12-03 XXXXXXXXXXX
2     20    sorimachi HR-MGR   1001 1993-01-21 XXXXXXXXXXX        
3     40    ado       ENGINEER 2001 1995-10-30 XXXXXXXXXXX
4     51    ogawa     SALES    2010 1997-04-01 XXXXXXXXXXX
5     50    muroya    SALES    2020 1999-06-01 ZZZZZZZZZZZ
6     51    endo      GENERAL  1002 1999-06-01 ZZZZZZZZZZZ
7     20    morita    GENERAL  1002 1999-04-01 ZZZZZZZZZZZ
8     32    furuhashi ENGINEER 2050 2000-04-01 XXXXXXXXXXX
9     40    asano     ENGINEER 2001 1998-01-01 XXXXXXXXXXX
10    30    minamino  ENGINEER 2001 1998-01-01 XXXXXXXXXXX

// dept
DEPNO DNAME       LOCATION    DESC
10    CEOROOM     IDB         XXXXXXXXXXX
20    HR          IDB         XXXXXXXXXXX        
30    SUPPORT     SRI         XXXXXXXXXXX
31    OPERATIONS  IDB         XXXXXXXXXXX 
32    OPERATIONS  FKO         XXXXXXXXXXX
33    OPERATIONS  OSK         XXXXXXXXXXX
40    DEVELOPMENT IDB         XXXXXXXXXX
50    SALES1E     IDB         XXXXXXXXXXX
51    SALES2E     IDB         XXXXXXXXXXX
53    SALES1W     OSK         XXXXXXXXXXX
</code></pre></div></li></ul></li></ol> <h2 id="sql"><a href="#sql" class="header-anchor">#</a> SQL</h2> <ol><li><p>SQL(Strutured Query Languageの略)</p> <ul><li>データ定義: データを格納する表を定義 / DDL (Data Definition Language)</li> <li>データ操作: 表に対してデータの検索、更新、挿入、削除、複数の表を結合 / DML (Data Manipulation Language)</li> <li>トランザクション機能: データを更新してから、更新情報が確定するまでの一連の流れを管理 / DCL (Data Control Language)</li></ul> <p>SQLの中で最も重要な機能となる「データ検索/Query(クエリ)」について触れます
前述のEMP表、DEPT表を用いて次の条件で”データ検索”を行ってみましょう</p> <p>Q.全社員の中でSUPPORT部に属している社員名を調べるSQL(Query)が書ける方？</p> <p>A.「」</p></li></ol> <h2 id="acid特性"><a href="#acid特性" class="header-anchor">#</a> ACID特性</h2> <ol><li>ACID特性とは
　 信頼性のあるトランザクションシステムの持つべき性質として1970年代後半にジム・グレイが定義した概念
これ以上分解してはならないという意味の不可分性、一貫性、独立性、および永続性は、トランザクション処理の信頼性を保証する為の性質
<ul><li>“Atomicity”   （原子性）</li> <li>“Consistency” （一貫性）</li> <li>“Isolation”   （独立性）</li> <li>“Durability”  （耐久性)</li></ul></li></ol> <h2 id="データの保全"><a href="#データの保全" class="header-anchor">#</a> データの保全</h2> <ol><li>データの保全
<ul><li>データベースにおいてデータの一貫性を保護し，不整合を排除して安全にデータを保管する行為もしくはその考え方</li></ul></li></ol> <h2 id="データベースの中で起きている事を知る"><a href="#データベースの中で起きている事を知る" class="header-anchor">#</a> データベースの中で起きている事を知る</h2> <ol><li><p>データベース内部で起きる最適化の話</p> <ul><li><p>最も最小の___でデータ集合を見つける事</p></li> <li><p>出来る限り最小限の___でデータにアクセスする事</p> <p>-&gt; 何をもって「適切」なのかを判断するデータベース内部の機構を ___ と呼ぶ</p></li></ul> <p>先ほどのemp表、dept表からSUPPORT部所属の社員(とLocation)を「検索」する場合どうなるか？</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT e.ename, d.loc from emp e, dept d
WHERE e.deptno=d.deptno AND e.deptno=30
;
</code></pre></div><p>表の結合方法を”NASTED LOOP”とすれば、emp表には10行、dept表には10行データがあるので最大で
10x10回の探索でデータの特定が出来るでしょう。データベース内部では、100回行って探索する事を
最適か？という事を常に意識して動作している、と理解しておきましょう。</p> <div class="language- extra-class"><pre class="language-text"><code>// - データベースをもっと深く勉強したいと考えている方へ課題                   
// 次のSQLを実行し、結果がどうなって、どのような影響があり、なぜそうなったか調べてみてください

SELECT e.ename, d.loc from emp e, dept d
WHERE e.deptno=d.deptno AND e.deptno=30
AND d.deptno=30
;
</code></pre></div><p>「適切」である事は都度状況に応じて変わる、と頭の片隅に必ず置いておきましょう。</p></li></ol> <h2 id="rdbmsが突きつけられた課題"><a href="#rdbmsが突きつけられた課題" class="header-anchor">#</a> RDBMSが突きつけられた課題</h2> <ol><li><p>e-commerce</p> <ul><li>1990年代後半から、企業がインターネットを介して不特定多数の消費者に対して小売（企業対消費者間取引、B2C）を行うことが徐々に広まる</li> <li>B2CのコマースにおけるDatabaseの重要性は増す一方、役割が多岐に、要件の増大は☝️</li></ul></li> <li><p>Online Game / Social Game</p> <ul><li><p>時期同じくして1997年後半...</p></li> <li><p>アイテム課金 /「射幸性」</p> <p>-&gt; あれもこれも「DBに突っ込んでおけ!」</p> <ul><li>余談ですが、筆者はこの頃からDatabaseを知りのめり込んで行きました</li></ul></li></ul></li></ol> <h2 id="rdbmsに代る選択肢"><a href="#rdbmsに代る選択肢" class="header-anchor">#</a> RDBMSに代る選択肢</h2> <ol><li><p>データモデルを根底から捉え直す</p> <ul><li>一時的なセッション情報管理、ユニーク性の担保、テンポラリかつアドホックなデータ等、割り切ってデータを管理したらいいのでは？</li></ul></li> <li><p>KVS</p> <ul><li>memcached</li> <li>redis</li> <li>cassandora</li></ul></li> <li><p>DocumentDB</p> <ul><li>MongoDB
<ul><li>Schemaless</li> <li>JSONファイルをドキュメントとして保存</li></ul></li> <li>CouchBase</li></ul></li></ol> <h2 id="database-as-a-service"><a href="#database-as-a-service" class="header-anchor">#</a> Database as a Service</h2> <ol><li><p>Databaseの維持管理コストは無視できない、重要性は変わらずむしろ増すばかり</p> <ul><li>MySQLとにかく詳しい人ください</li> <li>Memcachedもわかるとありがたい</li> <li>RedisでClusterは組めますか？</li> <li>新Versionのあの機能を試したいんです、いつ試せそうですか？</li> <li>開発者はコードだけを書きたい</li> <li>管理は専門性とトレードオフ</li></ul></li> <li><p>Full Managed Database Service</p> <ul><li><p>Database管理から開放します、さあどうぞ</p> <ul><li>AWS RDS</li> <li>GCP CloudSQL</li></ul></li> <li><p>顧客「性能が全然足りません、なんとかして！」</p> <ul><li>クラウドベンダー「性能要求に応じてスケールアウトさせます!」</li> <li>AWS Aurora</li> <li>GCP Spanner</li></ul></li> <li><p>顧客「クラウドでDataWareHouseが出来ると助かる。費用は使っただけ、にして欲しい」</p> <ul><li>AWS RedShift</li> <li>Google BigQuery</li></ul></li></ul></li></ol> <p><img src="/bootcamp/assets/img/DBOverView_Database001.13f1dc61.png" alt="Database_lists" title="Databases"></p> <h2 id="最適解"><a href="#最適解" class="header-anchor">#</a> 最適解</h2> <p>皆さんは様々な形でデータと向き合い合うことになると思います。今日はデータモデルの生い立ちからDatabaseの発展の
経緯、本当にごく一部ですがDatabaseの内部構造に触れました。Databaseという便利な道具を使いこなす事で単なる
データの塊が意味を持ち出し「データ」から貴重な「情報」に変えられるという気づきを与えられればとても嬉しく思います。</p> <p>繰り返しに成りますがDatabaseは便利な道具に過ぎません、楽しく面白く使い倒してください。</p> <p>ご清聴ありがとうございました。</p> <div><hr> <span>CC BY-SA Licensed | Copyright (c) 2021, Internet Initiative Japan Inc.</span></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/iij/bootcamp/edit/master/src/database/overview/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/18/2021, 2:14:41 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/bootcamp/assets/js/app.f01dedbe.js" defer></script><script src="/bootcamp/assets/js/2.68741f0d.js" defer></script><script src="/bootcamp/assets/js/19.fc7d6360.js" defer></script><script src="/bootcamp/assets/js/12.05e2fc56.js" defer></script><script src="/bootcamp/assets/js/11.df4b08af.js" defer></script>
  </body>
</html>
