<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>リレーショナルDBを触ってみる | IIJ Bootcamp</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="IIJ で実施している新人向けのハンズオン資料集です。">
    
    <link rel="preload" href="/bootcamp/assets/css/0.styles.095a7d7e.css" as="style"><link rel="preload" href="/bootcamp/assets/js/app.ccb53d40.js" as="script"><link rel="preload" href="/bootcamp/assets/js/2.8be9fd60.js" as="script"><link rel="preload" href="/bootcamp/assets/js/12.77a094b1.js" as="script"><link rel="prefetch" href="/bootcamp/assets/js/10.299b8302.js"><link rel="prefetch" href="/bootcamp/assets/js/11.1132ddf4.js"><link rel="prefetch" href="/bootcamp/assets/js/13.1a302e9d.js"><link rel="prefetch" href="/bootcamp/assets/js/14.b01a0294.js"><link rel="prefetch" href="/bootcamp/assets/js/15.6e581062.js"><link rel="prefetch" href="/bootcamp/assets/js/16.fc4a53b4.js"><link rel="prefetch" href="/bootcamp/assets/js/17.eba33b98.js"><link rel="prefetch" href="/bootcamp/assets/js/18.1d589aab.js"><link rel="prefetch" href="/bootcamp/assets/js/19.405f6a38.js"><link rel="prefetch" href="/bootcamp/assets/js/20.df074b21.js"><link rel="prefetch" href="/bootcamp/assets/js/21.0a1cbc38.js"><link rel="prefetch" href="/bootcamp/assets/js/22.b6c9a0d4.js"><link rel="prefetch" href="/bootcamp/assets/js/23.ee032780.js"><link rel="prefetch" href="/bootcamp/assets/js/24.886f15ea.js"><link rel="prefetch" href="/bootcamp/assets/js/25.68096d14.js"><link rel="prefetch" href="/bootcamp/assets/js/26.381232ac.js"><link rel="prefetch" href="/bootcamp/assets/js/27.1153200f.js"><link rel="prefetch" href="/bootcamp/assets/js/28.640b9315.js"><link rel="prefetch" href="/bootcamp/assets/js/29.f50d8ad3.js"><link rel="prefetch" href="/bootcamp/assets/js/3.7fb194b3.js"><link rel="prefetch" href="/bootcamp/assets/js/30.2cc6d156.js"><link rel="prefetch" href="/bootcamp/assets/js/31.63480c1a.js"><link rel="prefetch" href="/bootcamp/assets/js/32.8cd1a0f9.js"><link rel="prefetch" href="/bootcamp/assets/js/33.af6ac3d9.js"><link rel="prefetch" href="/bootcamp/assets/js/34.93dc731b.js"><link rel="prefetch" href="/bootcamp/assets/js/35.a64209f5.js"><link rel="prefetch" href="/bootcamp/assets/js/36.7d1b8dc3.js"><link rel="prefetch" href="/bootcamp/assets/js/37.e33dc2ba.js"><link rel="prefetch" href="/bootcamp/assets/js/38.4c3ac00e.js"><link rel="prefetch" href="/bootcamp/assets/js/39.527c83d0.js"><link rel="prefetch" href="/bootcamp/assets/js/4.ac357ba8.js"><link rel="prefetch" href="/bootcamp/assets/js/40.940f24b8.js"><link rel="prefetch" href="/bootcamp/assets/js/41.f7ea52e9.js"><link rel="prefetch" href="/bootcamp/assets/js/42.b0391732.js"><link rel="prefetch" href="/bootcamp/assets/js/43.befa18f7.js"><link rel="prefetch" href="/bootcamp/assets/js/44.117d4c9d.js"><link rel="prefetch" href="/bootcamp/assets/js/45.4f07e558.js"><link rel="prefetch" href="/bootcamp/assets/js/46.efba779b.js"><link rel="prefetch" href="/bootcamp/assets/js/47.bd53d714.js"><link rel="prefetch" href="/bootcamp/assets/js/48.62d278a9.js"><link rel="prefetch" href="/bootcamp/assets/js/49.f3389833.js"><link rel="prefetch" href="/bootcamp/assets/js/5.1983cd2b.js"><link rel="prefetch" href="/bootcamp/assets/js/50.2af6e070.js"><link rel="prefetch" href="/bootcamp/assets/js/51.9faf5c7e.js"><link rel="prefetch" href="/bootcamp/assets/js/52.208c9413.js"><link rel="prefetch" href="/bootcamp/assets/js/53.0eb6e670.js"><link rel="prefetch" href="/bootcamp/assets/js/54.285dcbcc.js"><link rel="prefetch" href="/bootcamp/assets/js/55.ffa0b6f5.js"><link rel="prefetch" href="/bootcamp/assets/js/56.3af7861d.js"><link rel="prefetch" href="/bootcamp/assets/js/57.551e453e.js"><link rel="prefetch" href="/bootcamp/assets/js/58.03e2fa9d.js"><link rel="prefetch" href="/bootcamp/assets/js/59.8cc23887.js"><link rel="prefetch" href="/bootcamp/assets/js/6.cf2720fd.js"><link rel="prefetch" href="/bootcamp/assets/js/60.4747e135.js"><link rel="prefetch" href="/bootcamp/assets/js/61.daf5110d.js"><link rel="prefetch" href="/bootcamp/assets/js/62.0f2814f4.js"><link rel="prefetch" href="/bootcamp/assets/js/63.15be700f.js"><link rel="prefetch" href="/bootcamp/assets/js/64.8015b001.js"><link rel="prefetch" href="/bootcamp/assets/js/7.dcc6bcdc.js"><link rel="prefetch" href="/bootcamp/assets/js/8.678bbfed.js"><link rel="prefetch" href="/bootcamp/assets/js/9.e53c4ddc.js">
    <link rel="stylesheet" href="/bootcamp/assets/css/0.styles.095a7d7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bootcamp/" class="home-link router-link-active"><!----> <span class="site-name">IIJ Bootcamp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>リレーショナルDBを触ってみる</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bootcamp/database/postgresql/#事前準備" class="sidebar-link">/database/postgresql/#事前準備</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#呼び方" class="sidebar-link">呼び方</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#日本postgresqlユーザ会" class="sidebar-link">日本PostgreSQLユーザ会</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#バージョン体系-超抜粋" class="sidebar-link">バージョン体系（超抜粋）</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#ライセンス" class="sidebar-link">ライセンス</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_0-postgresql環境準備" class="sidebar-link">0. PostgreSQL環境準備</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★0-1-postgresql環境のダウンロード" class="sidebar-link">★0-1 PostgreSQL環境のダウンロード</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★0-2-コンテナ起動" class="sidebar-link">★0-2 コンテナ起動</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★0-3-コンテナ接続" class="sidebar-link">★0-3 コンテナ接続</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★0-4-ロケールの確認" class="sidebar-link">★0-4 ロケールの確認</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_1-データベースへ接続してみよう" class="sidebar-link">1. データベースへ接続してみよう</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★1-1-db接続" class="sidebar-link">★1-1 DB接続</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★1-2-データベース確認" class="sidebar-link">★1-2 データベース確認</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_2-ユーザ-ロール-を作成してみよう" class="sidebar-link">2. ユーザ（ロール）を作成してみよう</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★2-1-ユーザ作成" class="sidebar-link">★2-1 ユーザ作成</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_3-データベースを作成してみよう" class="sidebar-link">3. データベースを作成してみよう</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★3-1-データベースの作成" class="sidebar-link">★3-1 データベースの作成</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★3-2-データベースへの接続" class="sidebar-link">★3-2 データベースへの接続</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_4-スキーマを作成し権限を付与してみよう" class="sidebar-link">4. スキーマを作成し権限を付与してみよう</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★4-1-スキーマの作成" class="sidebar-link">★4-1 スキーマの作成</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★4-2-権限付与" class="sidebar-link">★4-2 権限付与</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_5-テーブルを作成してみよう" class="sidebar-link">5. テーブルを作成してみよう</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★5-1-テーブル作成" class="sidebar-link">★5-1 テーブル作成</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_6-テーブルにデータを登録してみよう-insert-into-values" class="sidebar-link">6. テーブルにデータを登録してみよう（insert into ～ values～）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★6-1-データの登録" class="sidebar-link">★6-1 データの登録</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_7-データを参照してみよう-select-from" class="sidebar-link">7. データを参照してみよう（select ～ from ～）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★7-1-データの参照" class="sidebar-link">★7-1 データの参照</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★7-2" class="sidebar-link">★7-2</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★7-3-複数のテーブルからのデータ参照" class="sidebar-link">★7-3 複数のテーブルからのデータ参照</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_8-データを更新してみよう-update-set" class="sidebar-link">8. データを更新してみよう（update ～ set ～）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★8-1-データの更新" class="sidebar-link">★8-1 データの更新</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#_9-データを削除してみよう-delete-from" class="sidebar-link">9. データを削除してみよう（delete from ～）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★9-1-データの削除" class="sidebar-link">★9-1 データの削除</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#問1-自分の好きな食べ物を「tbl-food」テーブルに登録し、そのデータを使って自分の情報をプロパー「tbl-proper」テーブルに登録してください" class="sidebar-link">問１）自分の好きな食べ物を「tblfood」テーブルに登録し、そのデータを使って自分の情報をプロパー「tblproper」テーブルに登録してください</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#問2-問1で追加したデータを参照してください-2テーブルを確認してください" class="sidebar-link">問２）問１で追加したデータを参照してください（２テーブルを確認してください）</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#問3-「tbl-proper」の中に存在している「tanaka」さんを「ikeda」さんに変更し、確認してください" class="sidebar-link">問３）「tbl_proper」の中に存在している「tanaka」さんを「ikeda」さんに変更し、確認してください</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#問4-「tbl-food」から「takoyaki」のみを削除し、確認してください" class="sidebar-link">問４）「tbl_food」から「takoyaki」のみを削除し、確認してください</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#a-バックアップ" class="sidebar-link">A．バックアップ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★a-1-データベース-バックアップ準備" class="sidebar-link">★A-1. データベース バックアップ準備</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★a-2-データベースのバックアップ" class="sidebar-link">★A-2. データベースのバックアップ</a></li></ul></li><li><a href="/bootcamp/database/postgresql/#b-リストア" class="sidebar-link">B．リストア</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★b-1-データベース削除" class="sidebar-link">★B-1. データベース削除</a></li><li class="sidebar-sub-header"><a href="/bootcamp/database/postgresql/#★b-2-データベースをリストア" class="sidebar-link">★B-2. データベースをリストア</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="リレーショナルdbを触ってみる"><a href="#リレーショナルdbを触ってみる" class="header-anchor">#</a> リレーショナルDBを触ってみる</h1> <hr> <h2 id="事前準備"><a href="#事前準備" class="header-anchor">#</a> &lt;事前準備&gt;</h2> <ul><li>Dockerがインストールされていること</li> <li>PowerShellが利用できる状態であること</li> <li>インターネットに接続できていること</li></ul> <h1 id="postgresqlについて"><a href="#postgresqlについて" class="header-anchor">#</a> PostgreSQLについて</h1> <h3 id="呼び方"><a href="#呼び方" class="header-anchor">#</a> 呼び方</h3> <p>「ポストグレス キューエル」らしいのですが、この呼び方している人は少ないように感じます。<br>
よく聞くのは「ポスグレ」、「ポストグレス」です。</p> <h3 id="日本postgresqlユーザ会"><a href="#日本postgresqlユーザ会" class="header-anchor">#</a> 日本PostgreSQLユーザ会</h3> <ul><li><a href="https://www.postgresql.jp/" target="_blank" rel="noopener noreferrer">日本PostgreSQLユーザ会<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>日本国内でPostgreSQLデータベースを使用するユーザーのコミュニティおよび組織です。</li> <li>このユーザ会は、PostgreSQLに関心を持つ人々が情報共有や交流を行い、技術的な知識を向上させることを目的としています。</li></ul> <h3 id="バージョン体系-超抜粋"><a href="#バージョン体系-超抜粋" class="header-anchor">#</a> バージョン体系（超抜粋）</h3> <p>※8.0よりも前のバージョン（6.0や7.0）については省略します。</p> <table><thead><tr><th style="text-align:right;">メジャーバージョン</th> <th style="text-align:center;">リリース日</th> <th style="text-align:right;">最新マイナー版</th> <th style="text-align:center;">最新版リリース日</th> <th style="text-align:center;">サポート期限</th></tr></thead> <tbody><tr><td style="text-align:right;">8.0</td> <td style="text-align:center;">2005/11/8</td> <td style="text-align:right;">8.0.26</td> <td style="text-align:center;">2010/10/4</td> <td style="text-align:center;">2010/10/1</td></tr> <tr><td style="text-align:right;">8.1.x～8.4.x</td> <td style="text-align:center;">省略</td> <td style="text-align:right;">省略</td> <td style="text-align:center;">省略</td> <td style="text-align:center;">省略</td></tr> <tr><td style="text-align:right;">9.0</td> <td style="text-align:center;">2010/9/20</td> <td style="text-align:right;">9.0.23</td> <td style="text-align:center;">2015/10/8</td> <td style="text-align:center;">2010/10/8</td></tr> <tr><td style="text-align:right;">9.1.x～9.6.x</td> <td style="text-align:center;">省略</td> <td style="text-align:right;">省略</td> <td style="text-align:center;">省略</td> <td style="text-align:center;">省略</td></tr> <tr><td style="text-align:right;">10</td> <td style="text-align:center;">2017/10/5</td> <td style="text-align:right;">10.23</td> <td style="text-align:center;">2022/11/10</td> <td style="text-align:center;">2022/11/10</td></tr> <tr><td style="text-align:right;">11</td> <td style="text-align:center;">2018/10/18</td> <td style="text-align:right;">11.22</td> <td style="text-align:center;">2023/11/9</td> <td style="text-align:center;">2023/11/9</td></tr> <tr><td style="text-align:right;">12</td> <td style="text-align:center;">2019/10/3</td> <td style="text-align:right;">12.19</td> <td style="text-align:center;">2024/5/9</td> <td style="text-align:center;">2024/11/14</td></tr> <tr><td style="text-align:right;">13</td> <td style="text-align:center;">2020/9/24</td> <td style="text-align:right;">13.15</td> <td style="text-align:center;">2024/5/9</td> <td style="text-align:center;">2025/11/13</td></tr> <tr><td style="text-align:right;">14</td> <td style="text-align:center;">2021/9/30</td> <td style="text-align:right;">14.12</td> <td style="text-align:center;">2024/5/9</td> <td style="text-align:center;">2026/11/12</td></tr> <tr><td style="text-align:right;">15</td> <td style="text-align:center;">2022/10/13</td> <td style="text-align:right;">15.7</td> <td style="text-align:center;">2024/5/9</td> <td style="text-align:center;">2027/11/11</td></tr> <tr><td style="text-align:right;">16</td> <td style="text-align:center;">2023/9/14</td> <td style="text-align:right;">16.3</td> <td style="text-align:center;">2024/5/9</td> <td style="text-align:center;">2028/11/9</td></tr></tbody></table> <p>※バージョン体系がPostgreSQL10より変更されました。</p> <p>Postgresql 10以前　⇒　  <span style="font-size:200%;color:red;"><strong>9.0</strong></span>  .<span style="font-size:200%;color:blue;">23</span><br> <span style="font-size:100%;color:red;">9.0の部分がメジャーバージョン</span>で<span style="font-size:100%;color:blue;">23がマイナーバージョン</span>となります。<br> <br>
Postgresql 10以降　⇒　  <span style="font-size:200%;color:red;"><strong>10</strong></span> .<span style="font-size:200%;color:blue;">22</span><br> <span style="font-size:100%;color:red;">10の部分がメジャーバージョン</span>で<span style="font-size:100%;color:blue;">22がマイナーバージョン</span>  となります。</p> <h3 id="ライセンス"><a href="#ライセンス" class="header-anchor">#</a> ライセンス</h3> <p>PostgreSQLは、<span style="font-size:100%;color:red;">オープンソースのリレーショナルデータベース</span>管理システムです。<br>
そのライセンスは、PostgreSQL Global Development Group（PGDG）によって開発されたもので以下の2つのライセンスオプションが提供されています。</p> <ul><li><p>PostgreSQLライセンス（PostgreSQL License
これは、PostgreSQLプロジェクトが採用している独自のライセンスです。
このライセンスは、商用利用や非商用利用、修正や再配布を含むあらゆる使用形態に対して、
自由かつ<span style="font-size:100%;color:red;">無償で利用することを許可しています。</span>また、ソースコードの利用や変更、派生物の作成、
バイナリ形式での再配布なども可能です。そのため、PostgreSQLを自由に使用し、変更や拡張を行い、
プロジェクトや製品に組み込むことができます。</p></li> <li><p>MIT（マサチューセッツ工科大学）ライセンス
PostgreSQLプロジェクトは、PostgreSQLライセンスに加えて、一部のコンポーネントについてはMITライセンスも採用しています。
MITライセンスは、商用利用や非商用利用、修正や再配布を含むあらゆる使用形態に対して、<span style="font-size:100%;color:red;">自由かつ無償で利用することを許可</span>しています。
ただし、著作権表示および本許諾表示をソフトウェアのすべての複製または重要な部分に記載しなければならず、作者または著作権者は、ソフトウェアに関してなんら責任を負わない。</p></li></ul> <h1 id="ハンズオン研修-【データベースに触れてみよう】"><a href="#ハンズオン研修-【データベースに触れてみよう】" class="header-anchor">#</a> ハンズオン研修  【データベースに触れてみよう】</h1> <h2 id="_0-postgresql環境準備"><a href="#_0-postgresql環境準備" class="header-anchor">#</a> 0. PostgreSQL環境準備</h2> <p>本演習にて入力するコマンドはおおきく分けて以下の３つにわかれているため、入力する場所には注意する必要があります。</p> <ul><li><p>１．Linux環境        【 $ 表示のプロンプト】<br>
　→　  ★0-1、★0-2 、★0-3　での入力先となります。</p></li> <li><p>２．コンテナ環境     【 root@xxx から始まるプロンプト】<br>
　→　  ★0-4　★1-1、及び★A-1、★A-2、★B-1先頭行、★B-2　での入力先となります。</p></li> <li><p>３．PostgreSQL環境   【 postgres=# から始まるプロンプト】<br>
　→　  ★1-2～演習問題まで及び★B-1drop文　の入力先となります。</p></li></ul> <p>※出力イメージと異なるような結果が表示された際には入力場所をご確認ください。</p> <h3 id="★0-1-postgresql環境のダウンロード"><a href="#★0-1-postgresql環境のダウンロード" class="header-anchor">#</a> ★0-1 PostgreSQL環境のダウンロード</h3> <p>以下のコマンドを入力し、PostgreSQL環境をダウンロードします。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker pull postgres
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◎出力イメージ
<img src="/bootcamp/assets/img/docker01.9c3fed93.jpg" alt=""></p> <br> <h3 id="★0-2-コンテナ起動"><a href="#★0-2-コンテナ起動" class="header-anchor">#</a> ★0-2 コンテナ起動</h3> <p>以下のコマンドを入力し、コンテナ（PostgreSQLも起動します）環境を起動させます。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker run --name some-postgres -e POSTGRES_PASSWORD=postgres -d postgres
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◎出力イメージ<br> <img src="data:image/jpeg;base64,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" alt=""><br>
※正常に起動すると上記のような64文字の文字列（値は各自で異なります）が表示されます。</p> <br> <h3 id="★0-3-コンテナ接続"><a href="#★0-3-コンテナ接続" class="header-anchor">#</a> ★0-3 コンテナ接続</h3> <p>以下のコマンドを入力し、コンテナに接続します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker exec -it some-postgres /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◎出力イメージ<br> <img src="data:image/jpeg;base64,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" alt=""><br>
　※接続に成功すると上記のような最後に「＃」が付いた状態で表示されます。<br>
　※「root@」以降の文字列は各自で異なります。</p> <br> <h3 id="★0-4-ロケールの確認"><a href="#★0-4-ロケールの確認" class="header-anchor">#</a> ★0-4 ロケールの確認</h3> <p>本講義で使用する言語「en_US.utf8」が表示されることを確認します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>locale -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◎出力イメージ<br> <img src="data:image/jpeg;base64,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" alt=""></p> <br> <hr> <br> <h2 id="_1-データベースへ接続してみよう"><a href="#_1-データベースへ接続してみよう" class="header-anchor">#</a> 1. データベースへ接続してみよう</h2> <h3 id="★1-1-db接続"><a href="#★1-1-db接続" class="header-anchor">#</a> ★1-1 DB接続</h3> <p>PostgreSQLデータベースに接続し、SQLを発行するためには「psql」というツールを利用します。<br>
　OSユーザ「postgres」にスイッチ後、データベースに接続してみます。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>su - postgres
psql -h localhost -p 5432 -d postgres -U postgres
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>◎出力イメージ<br> <img src="data:image/jpeg;base64,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" alt=""><br>
※プロンプトが「postgres=#」に変更されることを確認します。</p> <br> <h3 id="★1-2-データベース確認"><a href="#★1-2-データベース確認" class="header-anchor">#</a> ★1-2 データベース確認</h3> <p>以下コマンド（エンマーク 英小文字のエル プラス）を実行します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>\l+
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◎出力イメージ<br> <img src="/bootcamp/assets/img/docker06.f94651f1.jpg" alt=""></p> <p>現時点ではデータベースが３つ表示されています。<br>
　イメージ図としては以下（グレーの四角がデータベース）です。<br> <img src="/bootcamp/assets/img/DB00.3fdfd46b.jpg" alt=""></p> <br> <h2 id="_2-ユーザ-ロール-を作成してみよう"><a href="#_2-ユーザ-ロール-を作成してみよう" class="header-anchor">#</a> 2. ユーザ（ロール）を作成してみよう</h2> <h3 id="★2-1-ユーザ作成"><a href="#★2-1-ユーザ作成" class="header-anchor">#</a> ★2-1 ユーザ作成</h3> <p>デフォルトで作成されているユーザ「postgres」以外に以下の３ユーザを作成します。</p> <ul><li>ユーザ「user01」を作成します</li> <li>ユーザ「user02」を作成します</li> <li>スーパーユーザ「suser01」を作成します</li></ul> <p>作成後は以下のようなイメージ（緑色の丸枠がユーザ）となります。</p> <p><img src="/bootcamp/assets/img/DB01.e9d2dca0.jpg" alt=""></p> <p>「user01」の作成</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create role user01 with login password 'user01'; 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>「user02」の作成</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> create user user02 with password 'user02';	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>「suser01」の作成</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> create role suser01 with superuser login password 'suser01';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>※全て「CREATE ROLE」と表示されることを確認します。<br>
※作成後、スーパーユーザ（suser01）でログインしなおしましょう。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> \connect - suser01 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>※PostgreSQLにおいて「ユーザ」と「ロール」は厳密には異なるため、上記のように2種類のコマンドが存在しますが、<br>
　今回は「ユーザ」と「ロール」は同じものであると考えましょう。</p> <br> <h2 id="_3-データベースを作成してみよう"><a href="#_3-データベースを作成してみよう" class="header-anchor">#</a> 3. データベースを作成してみよう</h2> <p>「create database」文を利用しデータベースを作成します。<br>
　ここでは、データベース名を「db_world」と指定し、template0を使用してデータベースを作成しています。<br>
　※「public」スキーマも同時に作成されます。 (スキーマは後述しますが、「public」スキーマは全ユーザが自由に使えるスキーマです)</p> <p><img src="/bootcamp/assets/img/DB02.deae098c.jpg" alt=""></p> <h3 id="★3-1-データベースの作成"><a href="#★3-1-データベースの作成" class="header-anchor">#</a> ★3-1 データベースの作成</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>create database db_world owner = suser01 template = template0 encoding = 'UTF8' lc_collate = 'en_US.utf8' lc_ctype = 'en_US.utf8';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>※「CREATE DATABASE」と表示されることを確認します。</p> <br> <h3 id="★3-2-データベースへの接続"><a href="#★3-2-データベースへの接続" class="header-anchor">#</a> ★3-2 データベースへの接続</h3> <p>次STEPの準備として、作成したデータベース（db_world）にスーパーユーザ（suser01）で接続します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>\connect db_world suser01  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><br> <h2 id="_4-スキーマを作成し権限を付与してみよう"><a href="#_4-スキーマを作成し権限を付与してみよう" class="header-anchor">#</a> 4. スキーマを作成し権限を付与してみよう</h2> <p>データベース内にスキーマ（青色の四角枠）を作成し、ユーザに利用権限（オレンジの矢印）を付与します。<br>
　スキーマとは、テーブルやインデックスといったオブジェクトを配置する領域です。<br>
　※「public」スキーマはDB作成時に作られており、テーブル等の作成時にスキーマ名を省略するとこの領域に配置されます。</p> <p><img src="/bootcamp/assets/img/DB03.67543a21.jpg" alt=""></p> <h3 id="★4-1-スキーマの作成"><a href="#★4-1-スキーマの作成" class="header-anchor">#</a> ★4-1 スキーマの作成</h3> <p>以下の2つのスキーマを作成してみましょう。
　以下の例では２つのスキーマの所有者に「suser01」を指定しています。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>create schema sch_jpn authorization suser01;	
create schema sch_usa authorization suser01;	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>※「CREATE SCHEMA」と表示されることを確認してください。</p> <h3 id="★4-2-権限付与"><a href="#★4-2-権限付与" class="header-anchor">#</a> ★4-2 権限付与</h3> <p>所有者以外がスキーマにオブジェクトを配置するためには権限が必要です。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>grant all privileges on database db_world to user01;	
grant all privileges on schema sch_jpn to user01;	
grant all privileges on schema sch_jpn to user02;	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>※「GRANT」と表示されることを確認してください。<br>
　　この権限の追加により</p> <ul><li>「user01」は「db_world」データベース、「sch_jpn」スキーマ内への全権限を有します。</li> <li>「user02」は「sch_jpn」スキーマ内への全権限を有します。</li></ul> <br> <h2 id="_5-テーブルを作成してみよう"><a href="#_5-テーブルを作成してみよう" class="header-anchor">#</a> 5. テーブルを作成してみよう</h2> <p>上記にて作成した「sch_jpn」スキーマ内にテーブル（オレンジ色の四角枠）を作成します。<br> <img src="/bootcamp/assets/img/DB04.195ebfdf.jpg" alt=""></p> <h3 id="★5-1-テーブル作成"><a href="#★5-1-テーブル作成" class="header-anchor">#</a> ★5-1 テーブル作成</h3> <p>「user01」で接続し、テーブルを作成します。<br>
　以下ではテーブル作成時に主キー（PRIMARY KEY）を作成しています。<br>
　主キーを作成した列には同じ値とnullを挿入できなくなります。<br>
　※スキーマ（sch_jpn）は必ず指定してください。省略してしまうと「public」スキーマに作成されます。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>\connect db_world user01
create table sch_jpn.tbl_region(id_reg serial,reg_name varchar(40), PRIMARY KEY (id_reg));
create table sch_jpn.tbl_pref(id_pref serial,pref_name varchar(40),id_reg int, PRIMARY KEY (id_pref));
create table sch_jpn.tbl_food(id_fd serial,fd_name varchar(40),price int, PRIMARY KEY (id_fd));
create table sch_jpn.tbl_proper(id_user serial,username varchar(40),id_pref int,id_fd int, PRIMARY KEY (id_user));

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>※「CREATE TABLE」と表示されることを確認してください。</p> <p>※テーブルを削除するコマンドは「drop table &lt;テーブル名&gt;」となります。</p> <br> <h2 id="_6-テーブルにデータを登録してみよう-insert-into-values"><a href="#_6-テーブルにデータを登録してみよう-insert-into-values" class="header-anchor">#</a> 6. テーブルにデータを登録してみよう（insert into ～ values～）</h2> <h3 id="★6-1-データの登録"><a href="#★6-1-データの登録" class="header-anchor">#</a> ★6-1 データの登録</h3> <p>上記で作成したテーブルにデータを登録します。<br>
　データを追加するコマンドはinsert文となります。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>insert into sch_jpn.tbl_region(reg_name) values ('hokkaido');
insert into sch_jpn.tbl_region(reg_name) values ('tohoku');
insert into sch_jpn.tbl_region(reg_name) values ('kanto');
insert into sch_jpn.tbl_region(reg_name) values ('chubu');
insert into sch_jpn.tbl_region(reg_name) values ('kinki');
insert into sch_jpn.tbl_region(reg_name) values ('shikoku');
insert into sch_jpn.tbl_region(reg_name) values ('kyushu');

insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('hokkaido',1);
insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('yamanashi',4);
insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('osaka',5);
insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('nagasaki',7);
insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('tokyo',3);
insert into sch_jpn.tbl_pref(pref_name,id_reg) values ('chiba',3);

insert into sch_jpn.tbl_food(fd_name,price) values ('hamburger',500);
insert into sch_jpn.tbl_food(fd_name,price) values ('ramen',1500);
insert into sch_jpn.tbl_food(fd_name,price) values ('takoyaki',800);
insert into sch_jpn.tbl_food(fd_name,price) values ('gyoza',350);

insert into sch_jpn.tbl_proper(username,id_pref,id_fd) values ('suzuki',1,1);
insert into sch_jpn.tbl_proper(username,id_pref,id_fd) values ('satou',2,4);
insert into sch_jpn.tbl_proper(username,id_pref,id_fd) values ('tanaka',3,2);
insert into sch_jpn.tbl_proper(username,id_pref,id_fd) values ('ito',4,3);
insert into sch_jpn.tbl_proper(username,id_pref,id_fd) values ('watanabe',5,4);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>※全て「INSERT 0 1」と表示されることを確認してください。</p> <br> <h2 id="_7-データを参照してみよう-select-from"><a href="#_7-データを参照してみよう-select-from" class="header-anchor">#</a> 7. データを参照してみよう（select ～ from ～）</h2> <h3 id="★7-1-データの参照"><a href="#★7-1-データの参照" class="header-anchor">#</a> ★7-1 データの参照</h3> <p>テーブルに登録されているデータを参照します。データはSELECT文にて参照します。<br>
　※「＊」を指定するとテーブルのカラム（列）全てを指定したことと同義になります。</p> <p>〇7-1-1. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from sch_jpn.tbl_region;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>●7-1-1. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> id_reg | reg_name
--------+----------
      1 | hokkaido
      2 | tohoku
      3 | kanto
      4 | chubu
      5 | kinki
      6 | shikoku
      7 | kyushu
(7 rows)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><br> <p>〇7-1-2. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from sch_jpn.tbl_pref;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>●7-1-2. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> id_pref | pref_name | id_reg
---------+-----------+--------
       1 | hokkaido  |      1
       2 | yamanashi |      4
       3 | osaka     |      5
       4 | nagasaki  |      7
       5 | tokyo     |      3
       6 | chiba     |      3
(6 rows)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><br> <p>〇7-1-3. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from sch_jpn.tbl_food;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>●7-1-3. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> id_fd |  fd_name  | price
-------+-----------+-------
     1 | hamburger |   500
     2 | ramen     |  1500
     3 | takoyaki  |   800
     4 | gyoza     |   350
(4 rows)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br> <p>〇7-1-4. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from sch_jpn.tbl_proper;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>●7-1-4. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> id_user | username | id_pref | id_fd
---------+----------+---------+-------
       1 | suzuki   |       1 |     1
       2 | satou    |       2 |     4
       3 | tanaka   |       3 |     2
       4 | ito      |       4 |     3
       5 | watanabe |       5 |     4
(5 rows)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><hr> <h3 id="★7-2"><a href="#★7-2" class="header-anchor">#</a> ★7-2</h3> <p>テーブルから条件を指定 (where句)してデータを抽出します。</p> <p>〇7-2-1. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from sch_jpn.tbl_pref where id_reg=3;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>●7-2-1. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> id_pref | pref_name | id_reg
---------+-----------+--------
       5 | tokyo     |      3
       6 | chiba     |      3
(2 rows)

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><br> <h3 id="★7-3-複数のテーブルからのデータ参照"><a href="#★7-3-複数のテーブルからのデータ参照" class="header-anchor">#</a> ★7-3 複数のテーブルからのデータ参照</h3> <p>複数のテーブルを結合しデータを抽出します。</p> <p>〇7-3-1. 入力コマンド</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select
 pp.username,
 pr.pref_name,
 rg.reg_name,
 fd.fd_name
from
 sch_jpn.tbl_region rg,
 sch_jpn.tbl_pref  pr,
 sch_jpn.tbl_food  fd,
 sch_jpn.tbl_proper pp
where
 pp.id_pref=pr.id_pref and
 pp.id_fd=fd.id_fd and
 pr.id_reg=rg.id_reg
ORDER BY
pp.username
;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>●7-3-1. 出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> username | pref_name | reg_name |  fd_name
----------+-----------+----------+-----------
 ito      | nagasaki  | kyushu   | takoyaki
 satou    | yamanashi | chubu    | gyoza
 suzuki   | hokkaido  | hokkaido | hamburger
 tanaka   | osaka     | kinki    | ramen
 watanabe | tokyo     | kanto    | gyoza
(5 rows)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_8-データを更新してみよう-update-set"><a href="#_8-データを更新してみよう-update-set" class="header-anchor">#</a> 8. データを更新してみよう（update ～ set ～）</h2> <h3 id="★8-1-データの更新"><a href="#★8-1-データの更新" class="header-anchor">#</a> ★8-1 データの更新</h3> <p>データを変更するには「update」文を使用します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>update sch_jpn.tbl_pref set id_reg=4 where id_pref=2;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◆変更されているか確認してみよう。<br>
　　⇒　上記で使用したSELECT文を使い「tbl_pref」を参照してください。</p> <br> <h2 id="_9-データを削除してみよう-delete-from"><a href="#_9-データを削除してみよう-delete-from" class="header-anchor">#</a> 9. データを削除してみよう（delete from ～）</h2> <h3 id="★9-1-データの削除"><a href="#★9-1-データの削除" class="header-anchor">#</a> ★9-1 データの削除</h3> <p>データを削除するには「delete」文を使用します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>delete from sch_jpn.tbl_food where fd_name='ramen';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>◆削除されているか確認してみよう。<br>
　　⇒　上記で使用したSELECT文を使い「tbl_food」を参照してください。</p> <br> <br> <hr> <h1 id="演習問題"><a href="#演習問題" class="header-anchor">#</a> 演習問題</h1> <h3 id="問1-自分の好きな食べ物を「tbl-food」テーブルに登録し、そのデータを使って自分の情報をプロパー「tbl-proper」テーブルに登録してください"><a href="#問1-自分の好きな食べ物を「tbl-food」テーブルに登録し、そのデータを使って自分の情報をプロパー「tbl-proper」テーブルに登録してください" class="header-anchor">#</a> 問１）自分の好きな食べ物を「tbl_food」テーブルに登録し、そのデータを使って自分の情報をプロパー「tbl_proper」テーブルに登録してください</h3> <div class="language- extra-class"><pre><code>hint: insert into ～ values ～  
</code></pre></div><br> <h3 id="問2-問1で追加したデータを参照してください-2テーブルを確認してください"><a href="#問2-問1で追加したデータを参照してください-2テーブルを確認してください" class="header-anchor">#</a> 問２）問１で追加したデータを参照してください（２テーブルを確認してください）</h3> <div class="language- extra-class"><pre><code>hint: select ～ from ～ where ～
</code></pre></div><br> <h3 id="問3-「tbl-proper」の中に存在している「tanaka」さんを「ikeda」さんに変更し、確認してください"><a href="#問3-「tbl-proper」の中に存在している「tanaka」さんを「ikeda」さんに変更し、確認してください" class="header-anchor">#</a> 問３）「tbl_proper」の中に存在している「tanaka」さんを「ikeda」さんに変更し、確認してください</h3> <div class="language- extra-class"><pre><code>hint: update ～ set ～
</code></pre></div><br> <h3 id="問4-「tbl-food」から「takoyaki」のみを削除し、確認してください"><a href="#問4-「tbl-food」から「takoyaki」のみを削除し、確認してください" class="header-anchor">#</a> 問４）「tbl_food」から「takoyaki」のみを削除し、確認してください</h3> <div class="language- extra-class"><pre><code>hint: delete from ～ where ～
</code></pre></div><br> <p>▼▼▼▼▼▼▼▼▼▼▼▼▼以降、時間がある人向け▼▼▼▼▼▼▼▼▼▼▼▼▼</p> <h2 id="a-バックアップ"><a href="#a-バックアップ" class="header-anchor">#</a> A．バックアップ</h2> <h3 id="★a-1-データベース-バックアップ準備"><a href="#★a-1-データベース-バックアップ準備" class="header-anchor">#</a> ★A-1. データベース バックアップ準備</h3> <p>バックアップデータの保管先へ移動します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>su - postgres	
cd /tmp	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><br> <h3 id="★a-2-データベースのバックアップ"><a href="#★a-2-データベースのバックアップ" class="header-anchor">#</a> ★A-2. データベースのバックアップ</h3> <p>ここでは、２通りのバックアップを試してみます。</p> <h4 id="★a-2-1-plain形式での出力-人間が見て分かるような結果が出力されます"><a href="#★a-2-1-plain形式での出力-人間が見て分かるような結果が出力されます" class="header-anchor">#</a> ★A-2-1 plain形式での出力	（人間が見て分かるような結果が出力されます）</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>pg_dump -U suser01 -d db_world --format=p --create --file db_world_db.sql

cat db_world_db.sql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="★a-2-2-バイナリ形式での出力"><a href="#★a-2-2-バイナリ形式での出力" class="header-anchor">#</a> ★A-2-2 バイナリ形式での出力</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>pg_dump -U suser01 -d db_world --format=c --create --file db_world_db.custom

ls -l
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>◎出力結果</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>total 20
-rw-r--r-- 1 postgres postgres 9710 Jul 10 12:00 db_world_db.custom
-rw-r--r-- 1 postgres postgres 7561 Jul 10 11:59 db_world_db.sql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><br> <h2 id="b-リストア"><a href="#b-リストア" class="header-anchor">#</a> B．リストア</h2> <h3 id="★b-1-データベース削除"><a href="#★b-1-データベース削除" class="header-anchor">#</a> ★B-1. データベース削除</h3> <p>データベースが破損したという仮定で、データベースを削除します。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>psql -h localhost -p 5432 -d postgres -U postgres

\l
drop database db_world;
\l

\q

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><br> <h3 id="★b-2-データベースをリストア"><a href="#★b-2-データベースをリストア" class="header-anchor">#</a> ★B-2. データベースをリストア</h3> <p>データベースが削除されているため、「db_world」データベースを作成し、<br>
　「db_world_db.custom」を使ってリストアします。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>createdb --template=template0 --encoding='UTF8' --lc-collate='en_US.utf8' --lc-ctype='en_US.utf8' db_world

pg_restore -v -c -d db_world /tmp/db_world_db.custom

psql -h localhost -p 5432 -d postgres -U postgres
\l
\q

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>この操作にてバックアップ取得時の状態へ復旧します。</p> <p>※この他にもバックアップ取得時点ではなく、障害発生直前にまでリカバリできる<br>
　　バックアップコマンド（pg_basebackup）も存在しますがここでは割愛します。</p> <br> <hr> <h1 id="postgresql環境の停止について"><a href="#postgresql環境の停止について" class="header-anchor">#</a> PostgreSQL環境の停止について</h1> <p>Docker runコマンド実行の際に -d optionをつけている(back ground実行)ため、<br>
★0-3 コンテナ接続<br>
で 開いていた bash で exit してもPostgreSQL（コンテナ）環境は終了しません。</p> <p>演習が終わりましたらstopコマンドにて停止させてください。<br>
psコマンドにてstatus列 が　Exited　になっていれば停止となります。<br>
※再度利用する際には docker start some-postgres にて起動可能させます。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker stop some-postgres

docker ps -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>以上</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/iij/bootcamp/edit/master/src/database/postgresql/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/6/2024, 12:03:05 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/bootcamp/assets/js/app.ccb53d40.js" defer></script><script src="/bootcamp/assets/js/2.8be9fd60.js" defer></script><script src="/bootcamp/assets/js/12.77a094b1.js" defer></script>
  </body>
</html>
