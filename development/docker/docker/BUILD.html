<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dockerを触ってみよう | IIJ Bootcamp</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Docker の概要を学び、コンテナ操作を体験します">
    
    <link rel="preload" href="/bootcamp/assets/css/0.styles.095a7d7e.css" as="style"><link rel="preload" href="/bootcamp/assets/js/app.114b7efe.js" as="script"><link rel="preload" href="/bootcamp/assets/js/2.c14b973d.js" as="script"><link rel="preload" href="/bootcamp/assets/js/43.5df66b92.js" as="script"><link rel="preload" href="/bootcamp/assets/js/16.b94b3d20.js" as="script"><link rel="preload" href="/bootcamp/assets/js/15.e36f630f.js" as="script"><link rel="prefetch" href="/bootcamp/assets/js/10.096db884.js"><link rel="prefetch" href="/bootcamp/assets/js/11.53c250a3.js"><link rel="prefetch" href="/bootcamp/assets/js/12.4340d375.js"><link rel="prefetch" href="/bootcamp/assets/js/13.4be2e795.js"><link rel="prefetch" href="/bootcamp/assets/js/14.b8b89d3b.js"><link rel="prefetch" href="/bootcamp/assets/js/17.184985c9.js"><link rel="prefetch" href="/bootcamp/assets/js/18.1830a439.js"><link rel="prefetch" href="/bootcamp/assets/js/19.53badabe.js"><link rel="prefetch" href="/bootcamp/assets/js/20.3acd92f6.js"><link rel="prefetch" href="/bootcamp/assets/js/21.2d14ee2d.js"><link rel="prefetch" href="/bootcamp/assets/js/22.334e0ba4.js"><link rel="prefetch" href="/bootcamp/assets/js/23.2f9b54f8.js"><link rel="prefetch" href="/bootcamp/assets/js/24.e4d6f0f5.js"><link rel="prefetch" href="/bootcamp/assets/js/25.7af058ee.js"><link rel="prefetch" href="/bootcamp/assets/js/26.3996daa2.js"><link rel="prefetch" href="/bootcamp/assets/js/27.64fdee4a.js"><link rel="prefetch" href="/bootcamp/assets/js/28.ac63253c.js"><link rel="prefetch" href="/bootcamp/assets/js/29.2dfd063f.js"><link rel="prefetch" href="/bootcamp/assets/js/3.6d95f3b7.js"><link rel="prefetch" href="/bootcamp/assets/js/30.ee062891.js"><link rel="prefetch" href="/bootcamp/assets/js/31.72f203f6.js"><link rel="prefetch" href="/bootcamp/assets/js/32.f51f8e63.js"><link rel="prefetch" href="/bootcamp/assets/js/33.f5389f0d.js"><link rel="prefetch" href="/bootcamp/assets/js/34.f4e3608b.js"><link rel="prefetch" href="/bootcamp/assets/js/35.27511ed8.js"><link rel="prefetch" href="/bootcamp/assets/js/36.9a737932.js"><link rel="prefetch" href="/bootcamp/assets/js/37.893de9be.js"><link rel="prefetch" href="/bootcamp/assets/js/38.179cdfae.js"><link rel="prefetch" href="/bootcamp/assets/js/39.aa144f5a.js"><link rel="prefetch" href="/bootcamp/assets/js/4.6acbcbca.js"><link rel="prefetch" href="/bootcamp/assets/js/40.7e5373ec.js"><link rel="prefetch" href="/bootcamp/assets/js/41.5f61d0cb.js"><link rel="prefetch" href="/bootcamp/assets/js/42.79980795.js"><link rel="prefetch" href="/bootcamp/assets/js/44.91137a6f.js"><link rel="prefetch" href="/bootcamp/assets/js/45.1b613969.js"><link rel="prefetch" href="/bootcamp/assets/js/46.95036b0e.js"><link rel="prefetch" href="/bootcamp/assets/js/47.72b9ae3f.js"><link rel="prefetch" href="/bootcamp/assets/js/48.8547da25.js"><link rel="prefetch" href="/bootcamp/assets/js/49.ac9d8365.js"><link rel="prefetch" href="/bootcamp/assets/js/5.96a94ac4.js"><link rel="prefetch" href="/bootcamp/assets/js/50.17f3d72c.js"><link rel="prefetch" href="/bootcamp/assets/js/51.937c40c0.js"><link rel="prefetch" href="/bootcamp/assets/js/52.9afe116e.js"><link rel="prefetch" href="/bootcamp/assets/js/53.16bed928.js"><link rel="prefetch" href="/bootcamp/assets/js/54.428066fe.js"><link rel="prefetch" href="/bootcamp/assets/js/55.3da3b50c.js"><link rel="prefetch" href="/bootcamp/assets/js/56.b97f705f.js"><link rel="prefetch" href="/bootcamp/assets/js/57.46d9eee4.js"><link rel="prefetch" href="/bootcamp/assets/js/58.1fa5ada2.js"><link rel="prefetch" href="/bootcamp/assets/js/6.b2df0be2.js"><link rel="prefetch" href="/bootcamp/assets/js/7.e5b3d2f5.js"><link rel="prefetch" href="/bootcamp/assets/js/8.3b4971d0.js"><link rel="prefetch" href="/bootcamp/assets/js/9.61e4a5ca.js">
    <link rel="stylesheet" href="/bootcamp/assets/css/0.styles.095a7d7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bootcamp/" class="home-link router-link-active"><!----> <span class="site-name">IIJ Bootcamp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
      GitHub
      <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Dockerを触ってみよう</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bootcamp/development/docker/docker/BUILD.html#dockerイメージの作成" class="sidebar-link">Dockerイメージの作成</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/development/docker/docker/BUILD.html#docker-イメージの共有方法" class="sidebar-link">Docker イメージの共有方法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/development/docker/docker/BUILD.html#まとめ" class="sidebar-link">まとめ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><table><tr><td>このハンズオンでやること</td><td>Docker の概要を学び、コンテナ操作を体験します</td></tr> <tr><td>想定時間</td><td>1h</td></tr> <tr><td>前提知識・用語</td><td>仮想化、CUI 操作</td></tr></table> <h2 id="dockerイメージの作成"><a href="#dockerイメージの作成" class="header-anchor">#</a> Dockerイメージの作成</h2> <p>Docker では、「<strong>Dockerfile</strong>」というファイルを用いて、Docker イメージの作成を行うことができます。Dockerfile は専用言語で記述します。このようにコンテナを初めとするサーバ環境やミドルウェアなどをコード（プログラム、設定ファイルなど）で構成管理することを「<strong>Infrastructure as Code（IaC）</strong>」と呼びます。Dockerfile のように環境をコード化して管理することにより、以下のようなメリットが挙げられます。</p> <ul><li>新規メンバーの開発環境が、Dockerfile を共有するだけで構築可能</li> <li>複雑なインフラ環境がテキストベースで管理でき、git 等での管理が容易に</li> <li>構築手順などがコード化されるため、漏れや間違いが発見しやすくなる</li></ul> <p>今回は、ubuntu というDocker イメージを元にカスタマイズしながら、nginx によるWeb サーバのDocker イメージを作成します。また、作成したDocker イメージを使ってDocker コンテナを立ち上げ、HTML ファイルがレスポンスされることを確認します。</p> <p>では、実際にDockerfile を作成し、Docker イメージを作成していきましょう。以下の内容をファイル名「Dockerfile」として作成してください。</p> <div class="language-Dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> ubuntu</span>
<span class="token instruction"><span class="token keyword">LABEL</span> maintainer=<span class="token string">&quot;your_email&quot;</span></span>

<span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; <span class="token operator">\</span>
    apt-get install nginx -y &amp;&amp; <span class="token operator">\</span>
    rm /var/www/html/index.nginx-debian.html</span>

<span class="token instruction"><span class="token keyword">COPY</span> index.html /var/www/html/</span>

<span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;nginx&quot;</span>, <span class="token string">&quot;-g&quot;</span>, <span class="token string">&quot;daemon off;&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>また、<code>COPY</code> コマンドで利用する「index.html」を以下のように作成してください（あくまで一例です）。</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello world<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>IIJ Boot Camp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello World from docker container!!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>作成したDockerfile の内容を先頭から読み解いていきましょう。</p> <ul><li><code>FROM</code> 命令は、ベースとなるDocker イメージを設定する命令です。今回は、ubuntu を利用しています。Dockerfile は必ず<code>FROM</code> 命令から始まっていなければなりません。</li> <li><code>LABEL</code> 命令は、Docker イメージにメタデータを付加するときに利用します。今回は、<code>maintainer</code> つまり管理者を追加しています。昔のDockerfile においては、<code>MAINTAINER</code> 命令を使って設定していましたが、現在は非推奨となっています。</li> <li><code>RUN</code> 命令は、Dockerfile の中でもとても重要な命令で、Docker イメージ作成時に実行する命令を記述します。今回はパッケージのアップデートとnginx のインストール、nginx のデフォルトウェブページであるHTML ファイルの削除を行っています。この行で重要なのは、<strong>&amp;&amp;</strong> で繋いで実行している点です。Dockerfile からDocker イメージを作成する際、<code>RUN</code> 命令などの実行した状態をキャッシュとして保存します。そのため、<code>apt-get update</code> と<code>apt-get install nginx -y</code> が異なる行で書かれていると、新しくパッケージを追加するために、<code>apt-get install nginx -y</code>の行を更新して、再度Docker イメージを作成しようとした際に、<code>apt-get update</code> で作成されたキャッシュを利用してしまい、<strong>最新版ではないnginx やパッケージがインストールされてしまう</strong>可能性があります。</li> <li><code>COPY</code> 命令は、ローカルにあるファイルなどをコンテナの内部へコピーする際に利用します。</li> <li><code>EXPOSE</code> 命令は、コンテナ実行時にポートで待ち受けることをdocker に伝えます。注意点として、この命令を書いただけでは、ホスト環境からアクセスはできません。実際にアクセスするためには、後述する<code>docker run</code> コマンドのオプションでポートを設定する必要があります。</li> <li><code>ENTRYPOINT</code> 命令は、<code>RUN</code> 命令と異なり、Dockerイメージから実際のコンテナを作成する際に実行されます。</li></ul> <p>その他詳しい機能について知りたい方は、<a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">公式のリファレンス<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>をご参照ください。</p> <p>では、先ほど作成したDockerfileが存在するディレクトリ内で以下のコマンドを実行してください。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> build -t iijbootcamp <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>このコマンドによって、Dockerfile からDocker イメージが作成されます。<code>-t</code> オプションでイメージ名を決めることができます。また、最後の<code>.</code> は、Dockerfile が存在するディレクトリ（カレントディレクトリ）を意味しています。</p> <p>実際にDockerイメージが作成されているかコマンドで確認してみてください。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> images
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
iijbootcamp         latest              417ab982faaa        <span class="token number">6</span> days ago          170MB
ubuntu              latest              93fd78260bd1        <span class="token number">6</span> days ago          <span class="token number">86</span>.2MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>「REPOSITORY」がubuntu とiijbootcamp の２つのイメージが新たに作られていると思います。ubuntu は<code>FROM</code> で指定したDocker イメージです。iijbootcamp は、ubuntu のDocker イメージを元にnginx やHTML ファイルを追加して今回作成したDocker イメージです。</p> <p>では、実際にこのコンテナを起動してアクセスしてみましょう。次のコマンドを実行してください。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> run -d -p <span class="token number">8888</span>:80 iijbootcamp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>-d</code> オプションはコンテナをデタッチドモードで起動することを意味しています。また、nginx はデフォルトでデーモンとして起動してしまうため、Dockerfile ではnginx をデーモンとして起動しないオプションで起動しています。また、<code>-p</code> オプションでは、ホスト側とコンテナ側のポートを対応付けています。「:」の左側がホスト環境、右側がコンテナ環境のポートを示しており、<strong>ホスト環境の8888ポートへアクセスすると、コンテナの80ポートにつながる</strong>ようになっています。</p> <p>コンテナが起動していることを確認してください。正しく実行されていると以下のような画面が表示されます。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> <span class="token function">ps</span>
CONTAINER ID        IMAGE                      COMMAND                  CREATED             STATUS              PORTS                      NAMES
171c3b25c75e        iijbootcamp:latest         <span class="token string">&quot;nginx -g 'daemon of…&quot;</span>   <span class="token number">15</span> minutes ago      Up <span class="token number">15</span> minutes       <span class="token number">0.0</span>.0.0:8888-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp       condescending_wilson
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>では、実際にコンテナに対してアクセスしてみましょう。お好きな方法（Webブラウザでもcurlコマンド等でも)で「 <a href="http://localhost:8888" target="_blank" rel="noopener noreferrer">http://localhost:8888<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 」にアクセスしてみましょう。以下にcurl コマンドを用いた例を示します。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> http://localhost:8888
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta <span class="token assign-left variable">charset</span><span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Hello world<span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>/head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>IIJ Boot Camp<span class="token operator">&lt;</span>/h<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Hello World from <span class="token function">docker</span> container<span class="token operator">!</span><span class="token operator">!</span><span class="token operator">&lt;</span>/p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>/body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/html<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上記のように実際に作成したHTMLが表示されていれば成功です。
プロキシを設定している場合は下記のように<code>--noproxy</code>オプションを指定する必要があります。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">curl</span> --noproxy localhost http://localhost:8888
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>curlコマンドによってHTMLが取得できることを確認してください</strong></p> <h2 id="docker-イメージの共有方法"><a href="#docker-イメージの共有方法" class="header-anchor">#</a> Docker イメージの共有方法</h2> <p>皆さんが作成したDocker イメージなどを他の人に共有したい場合、Dockerfile をファイルサーバやGitHub 等で共有する以外に、<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">Docker Hub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>を始めとする「<strong>Docker イメージレジストリ</strong>」で公開し、それを利用してもらうことが可能です。例えば、本講義で利用した「getting-started」や「ubuntu」のDocker イメージは、Docker Hubで公開されているものを利用しています。</p> <p>Docker イメージレジストリに自分のDocker イメージを公開する際には、<code>docker push</code> コマンドを利用します。逆に、Docker イメージをダウンロードしたい場合は、<code>docker pull</code> コマンドを利用します。また、Dockerイメージを<code>docker save</code> コマンドでtarファイルとして保存し、<code>docker load</code> コマンドでtarからロードするといったことも行うことができます。</p> <h2 id="まとめ"><a href="#まとめ" class="header-anchor">#</a> まとめ</h2> <p>今回は、仮想環境プラットフォームであるDocker を実際に触っていただきました。Docker の基礎知識、Docker コンテナ、イメージの管理方法に加え、Dockerfile を作成し自身でコンテナを作っていただきました。仮想マシンに比べ軽く高速で作成することが可能なため使いどころは多いでしょう。しかしながら、実際のサービスでは、単一のアプリケーションのみで1つのコンテナで完成することはありえません。Web サーバやWeb アプリケーション、データベースなど様々なものが１つに組み合わさって初めてサービスとして完成します。Docker コンテナでは、「1コンテナ1プロセス」や「1コンテナ1ロール」が基本となっています。そのため複数のコンテナを組み合わせて構築する必要があります。次の講義「開発環境をdocker-composeで構築」では、複数のコンテナを組み合わせて管理する手法について学びます。</p> <div><hr> <span>CC BY-SA Licensed | Copyright (c) 2022, Internet Initiative Japan Inc.</span></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/iij/bootcamp/edit/master/src/development/docker/docker/BUILD.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/24/2023, 6:04:43 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/bootcamp/assets/js/app.114b7efe.js" defer></script><script src="/bootcamp/assets/js/2.c14b973d.js" defer></script><script src="/bootcamp/assets/js/43.5df66b92.js" defer></script><script src="/bootcamp/assets/js/16.b94b3d20.js" defer></script><script src="/bootcamp/assets/js/15.e36f630f.js" defer></script>
  </body>
</html>
