(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{226:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"database-redis-編"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#database-redis-編"}},[t._v("#")]),t._v(" Database: Redis 編")]),t._v(" "),a("p",[t._v("このハンズオンの狙い")]),t._v(" "),a("ul",[a("li",[t._v("Docker に慣れる")]),t._v(" "),a("li",[t._v("Redis を実際に使ってみる")]),t._v(" "),a("li",[t._v("よく使いたくなる処理(部品)を作ってみる")])]),t._v(" "),a("h2",{attrs:{id:"事前準備"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事前準備"}},[t._v("#")]),t._v(" 事前準備")]),t._v(" "),a("ul",[a("li",[t._v("Docker を使用できる\n"),a("ul",[a("li",[t._v("install は主題ではないので、Docker image を使用します")])])]),t._v(" "),a("li",[t._v("何らかの LL を使える\n"),a("ul",[a("li",[t._v("例は Python で書きますが、Ruby, Perl, JavaScript, Go なども使えます。適当に読み替えてください")])])])]),t._v(" "),a("h3",{attrs:{id:"事前準備手順"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事前準備手順"}},[t._v("#")]),t._v(" 事前準備手順")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Redis と Python のイメージを使えるようにする")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker pull redis:5\ndocker pull python:3.7\ndocker images\n\nREPOSITORY                     TAG                 IMAGE ID            CREATED             SIZE\npython                         3.7                 4c0fd7901be8        29 hours ago        929MB\nredis                          5                   bb0ab8a99fe6        6 days ago          95MB\n")])])])]),t._v(" "),a("li",[a("p",[t._v("サーバを起動する")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker run --rm --name test-server redis:5\n")])])])]),t._v(" "),a("li",[a("p",[t._v("別のターミナルを開いて、redis-cli でサーバに接続してみる")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('docker run -it --link test-server:redis --rm redis:5 sh -c \'exec redis-cli -h "$REDIS_PORT_6379_TCP_ADDR" -p "$REDIS_PORT_6379_TCP_PORT"\'\n172.17.0.2:6379> ping\nPONG\n172.17.0.2:6379> exit\n')])])]),a("ul",[a("li",[t._v("Windows 環境は Git Bash の MINGW64 環境で動作確認しました\n"),a("ul",[a("li",[t._v("winpty docker -it 〜 としたらいけました")])])])])]),t._v(" "),a("li",[a("p",[t._v("さらに別のターミナルを開いて、python のイメージを確認する")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('docker run -it --rm python:3.7 bash\nroot@ed0836dc5ca3:/# pip install redis\nCollecting redis\n  Downloading https://files.pythonhosted.org/packages/ac/a7/cff10cc5f1180834a3ed564d148fb4329c989cbb1f2e196fc9a10fa07072/redis-3.2.1-py2.py3-none-any.whl (65kB)\n     |████████████████████████████████| 71kB 2.2MB/s\nInstalling collected packages: redis\nSuccessfully installed redis-3.2.1\nroot@ed0836dc5ca3:/# which python\n/usr/local/bin/python\nroot@ed0836dc5ca3:/# python\nPython 3.7.4 (default, Jul  9 2019, 00:06:43)\n[GCC 6.3.0 20170516] on linux\nType "help", "copyright", "credits" or "license" for more information.\n>>>\nroot@ed0836dc5ca3:/# exit\nexit\n')])])]),a("ul",[a("li",[t._v("Windows 環境は Git Bash の MINGW64 環境で動作確認しました\n"),a("ul",[a("li",[t._v("winpty docker -it 〜 としたらいけました")])])])])]),t._v(" "),a("li",[a("p",[t._v("(最初に起動した Redis サーバは C-c で止められます)")])])]),t._v(" "),a("h2",{attrs:{id:"あらすじ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#あらすじ"}},[t._v("#")]),t._v(" あらすじ")]),t._v(" "),a("ul",[a("li",[t._v("Redis ざっくり説明")]),t._v(" "),a("li",[t._v("Redis を直接触ってみよう")]),t._v(" "),a("li",[t._v("プログラムで DB 登録しよう")]),t._v(" "),a("li",[t._v("応用課題")])]),t._v(" "),a("h2",{attrs:{id:"資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#資料"}},[t._v("#")]),t._v(" 資料")]),t._v(" "),a("h3",{attrs:{id:"redis-とは何か"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-とは何か"}},[t._v("#")]),t._v(" Redis とは何か")]),t._v(" "),a("ul",[a("li",[t._v("KVS の一種\n"),a("ul",[a("li",[t._v("LAMP (Linux, Apache, MySQL, PHP/Perl/Python) と言ってたけど…")]),t._v(" "),a("li",[t._v("RDB はたいていの Web サービスにはリッチすぎる")])])]),t._v(" "),a("li",[t._v("オンメモリで動作し、速い\n"),a("ul",[a("li",[t._v("設定で永続化やクラスタリングもできる")])])]),t._v(" "),a("li",[t._v("便利な機能やデータ型がある\n"),a("ul",[a("li",[t._v("string, list, set, sorted set, hash, (bitmap, HLL, pubsub, streaming)")]),t._v(" "),a("li",[t._v("expire")])])]),t._v(" "),a("li",[t._v("世間での使用例\n"),a("ul",[a("li",[t._v("Web server のセッション保持")]),t._v(" "),a("li",[t._v("高速にアクセスしたいメタデータの保持")]),t._v(" "),a("li",[t._v("コンテンツ/データのキャッシュ")]),t._v(" "),a("li",[t._v("データの一時キュー")]),t._v(" "),a("li",[t._v("sorted set 型によるランキング")]),t._v(" "),a("li",[t._v("set 型によるタグ付けと集合演算")])])])]),t._v(" "),a("h3",{attrs:{id:"redis-を直接触ってみよう"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-を直接触ってみよう"}},[t._v("#")]),t._v(" Redis を直接触ってみよう")]),t._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://redis.io/commands",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis コマンド一覧"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("データベースの選択")]),t._v(" "),a("ul",[a("li",[t._v("select")]),t._v(" "),a("li",[t._v("info")]),t._v(" "),a("li",[t._v("dbsize")])])]),t._v(" "),a("li",[a("p",[t._v("基本操作と文字列型")]),t._v(" "),a("ul",[a("li",[t._v("set/get")]),t._v(" "),a("li",[t._v("キーの操作\n"),a("ul",[a("li",[t._v("keys")]),t._v(" "),a("li",[t._v("exists")]),t._v(" "),a("li",[t._v("del/unlink/rename/renamenx")])])]),t._v(" "),a("li",[t._v("incr/decr/incrby/decrby")]),t._v(" "),a("li",[t._v("mset/mget")]),t._v(" "),a("li",[t._v("getset")]),t._v(" "),a("li",[t._v("setnx")])])]),t._v(" "),a("li",[a("p",[t._v("expiration")]),t._v(" "),a("ul",[a("li",[t._v("expire/expireat/persist")]),t._v(" "),a("li",[t._v("ttl/pttl")]),t._v(" "),a("li",[t._v("set/setex")])])])]),t._v(" "),a("h3",{attrs:{id:"プログラムから-redis-を使おう"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#プログラムから-redis-を使おう"}},[t._v("#")]),t._v(" プログラムから Redis を使おう")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("手元の適当なディレクトリに (Python の) スクリプトを作成します。仮に ~/app ディレクトリを使うとします")]),t._v(" "),a("ul",[a("li",[t._v("Python から Redis を扱うためのライブラリ "),a("a",{attrs:{href:"https://github.com/andymccurdy/redis-py",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis Python Client"),a("OutboundLink")],1),t._v(" を pip でインストールする")])]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker run -it --link test-server:redis --rm --name test-python -v ~/app:/app python:3.7 bash\nroot@24108149af23:/# cd app\nroot@24108149af23:/app# pip install redis\nCollecting redis\n  Downloading https://files.pythonhosted.org/packages/ac/a7/cff10cc5f1180834a3ed564d148fb4329c989cbb1f2e196fc9a10fa07072/redis-3.2.1-py2.py3-none-any.whl (65kB)\n     |████████████████████████████████| 71kB 3.2MB/s\nInstalling collected packages: redis\nSuccessfully installed redis-3.2.1\nroot@24108149af23:/app# env | grep REDIS\nREDIS_PORT_6379_TCP_PROTO=tcp\nREDIS_PORT=tcp://172.17.0.2:6379\nREDIS_NAME=/test-python/redis\nREDIS_PORT_6379_TCP_ADDR=172.17.0.2\nREDIS_PORT_6379_TCP=tcp://172.17.0.2:6379\nREDIS_ENV_REDIS_DOWNLOAD_URL=http://download.redis.io/releases/redis-5.0.5.tar.gz\nREDIS_PORT_6379_TCP_PORT=6379\nREDIS_ENV_REDIS_DOWNLOAD_SHA=2139009799d21d8ff94fc40b7f36ac46699b9e1254086299f8d3b223ca54a375\nREDIS_ENV_GOSU_VERSION=1.10\nREDIS_ENV_REDIS_VERSION=5.0.5\nroot@24108149af23:/app#\n")])])])]),t._v(" "),a("li",[a("p",[t._v("~/app ディレクトリにプログラムを作って、上記の Shell で実行してみましょう。")])])]),t._v(" "),a("h4",{attrs:{id:"要素を入れてみる"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#要素を入れてみる"}},[t._v("#")]),t._v(" 要素を入れてみる")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("普通に List や Hash として使って、適当に要素を入れてみよう")]),t._v(" "),a("ul",[a("li",[t._v("/etc/services の ポート -> プロトコル名称 対応表を作る")])]),t._v(" "),a("div",{staticClass:"language-Python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1/tcp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tcpmux'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7/tcp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'7/udp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9/tcp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'discard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'null'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'9/udp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'discard'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sink'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'null'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'11/tcp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'systat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'users'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("/etc/passwd の内容をユーザごとのハッシュに格納する")])]),t._v(" "),a("div",{staticClass:"language-Python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'passwd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/root'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shell'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/bin/bash'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daemon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'passwd'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'x'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gid'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daemon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/usr/sbin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'shell'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/usr/sbin/nologin'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"expire-を試してみる"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#expire-を試してみる"}},[t._v("#")]),t._v(" Expire を試してみる")]),t._v(" "),a("ul",[a("li",[t._v("expire 付きで値を格納し、実際にその時間が過ぎると値が消えていくことを確認する")])]),t._v(" "),a("h3",{attrs:{id:"メッセージキューを実装する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#メッセージキューを実装する"}},[t._v("#")]),t._v(" メッセージキューを実装する")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("メッセージキュー的なものを実装してみよう")]),t._v(" "),a("ul",[a("li",[t._v("依頼側: ランダム秒 sleep して、メッセージをキューに入れる")]),t._v(" "),a("li",[t._v("取り出し側: ランダム秒 sleep して、メッセージをキューから取り出す")])])]),t._v(" "),a("li",[a("p",[t._v("使用例: web クローラー")]),t._v(" "),a("ul",[a("li",[t._v("依頼側: URL をどんどんキューに入れる")]),t._v(" "),a("li",[t._v("取り出し側: キューを見て URL が入っていたら、取得してファイルに保存する\n"),a("ul",[a("li",[t._v("結果(ファイルの場所)を別のキューで戻してもいいですね")])])])])])]),t._v(" "),a("h3",{attrs:{id:"advanced-redis-pub-sub-streams-を使ってみよう"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#advanced-redis-pub-sub-streams-を使ってみよう"}},[t._v("#")]),t._v(" Advanced: Redis Pub/Sub, Streams を使ってみよう")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://redis.io/topics/pubsub",target:"_blank",rel:"noopener noreferrer"}},[t._v("Pub/Sub"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://redis.io/topics/streams-intro",target:"_blank",rel:"noopener noreferrer"}},[t._v("Introduction to Redis Streams"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"advanced-jupyter-notebook-イメージを使ってみよう"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#advanced-jupyter-notebook-イメージを使ってみよう"}},[t._v("#")]),t._v(" Advanced: Jupyter notebook イメージを使ってみよう")]),t._v(" "),a("div",{staticClass:"language-Shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker pull jupyter/base-notebook\ndocker run --rm --link test-server:redis -p 8888:8888 -v ~/app:/home/jovyan/work jupyter/base-notebook\n# メッセージを見て、ブラウザから localhost:8888 に接続する\n")])])]),a("h3",{attrs:{id:"advanced-dockerfile-docker-compose-を使ってみよう"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#advanced-dockerfile-docker-compose-を使ってみよう"}},[t._v("#")]),t._v(" Advanced: Dockerfile, docker-compose を使ってみよう")]),t._v(" "),a("ul",[a("li",[t._v("pip install redis をしなくてよいイメージを作成する")]),t._v(" "),a("li",[t._v("~/app ディレクトリをマウントせず、コピーして実行してみる")]),t._v(" "),a("li",[t._v("Redis, Python コンテナが起動するように docker-compose 設定を作る")])]),t._v(" "),a("h2",{attrs:{id:"参考資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考資料"}},[t._v("#")]),t._v(" 参考資料")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://redis.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis 本家"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/andymccurdy/redis-py",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis Python Client"),a("OutboundLink")],1)])]),t._v(" "),a("credit-footer")],1)}),[],!1,null,null,null);s.default=e.exports}}]);