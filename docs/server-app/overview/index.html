<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>IIJ Bootcamp</title>
    <meta name="description" content="Webアプリケーションを構成する要素の中のサーバサイドの実装技術について簡単に紹介します。">
    
    
    <link rel="preload" href="/bootcamp/assets/css/0.styles.2b6a07f9.css" as="style"><link rel="preload" href="/bootcamp/assets/js/app.5aa2cd6e.js" as="script"><link rel="preload" href="/bootcamp/assets/js/2.acfdd0a4.js" as="script"><link rel="preload" href="/bootcamp/assets/js/23.66378ade.js" as="script"><link rel="preload" href="/bootcamp/assets/js/5.d20398c4.js" as="script"><link rel="preload" href="/bootcamp/assets/js/4.a9d4f0c2.js" as="script"><link rel="prefetch" href="/bootcamp/assets/js/10.91658d27.js"><link rel="prefetch" href="/bootcamp/assets/js/11.543ef737.js"><link rel="prefetch" href="/bootcamp/assets/js/12.4ddb5c1e.js"><link rel="prefetch" href="/bootcamp/assets/js/13.c5c411d4.js"><link rel="prefetch" href="/bootcamp/assets/js/14.42aafd44.js"><link rel="prefetch" href="/bootcamp/assets/js/15.69d56ee8.js"><link rel="prefetch" href="/bootcamp/assets/js/16.2d760d44.js"><link rel="prefetch" href="/bootcamp/assets/js/17.f362e4a8.js"><link rel="prefetch" href="/bootcamp/assets/js/18.37605e11.js"><link rel="prefetch" href="/bootcamp/assets/js/19.97637d7d.js"><link rel="prefetch" href="/bootcamp/assets/js/20.8abaa144.js"><link rel="prefetch" href="/bootcamp/assets/js/21.13750af6.js"><link rel="prefetch" href="/bootcamp/assets/js/22.910c6441.js"><link rel="prefetch" href="/bootcamp/assets/js/24.e889da74.js"><link rel="prefetch" href="/bootcamp/assets/js/25.1f2988ad.js"><link rel="prefetch" href="/bootcamp/assets/js/26.80262ad6.js"><link rel="prefetch" href="/bootcamp/assets/js/27.ebb5f83a.js"><link rel="prefetch" href="/bootcamp/assets/js/28.1a6e8768.js"><link rel="prefetch" href="/bootcamp/assets/js/3.8871fbf6.js"><link rel="prefetch" href="/bootcamp/assets/js/6.6afd3d90.js"><link rel="prefetch" href="/bootcamp/assets/js/7.b81cb9d1.js"><link rel="prefetch" href="/bootcamp/assets/js/8.0797b3c3.js"><link rel="prefetch" href="/bootcamp/assets/js/9.76124e4d.js">
    <link rel="stylesheet" href="/bootcamp/assets/css/0.styles.2b6a07f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/bootcamp/" class="home-link router-link-active"><!----> <span class="site-name">IIJ Bootcamp</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/iij/bootcamp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/bootcamp/server-app/overview/#目次" class="sidebar-link">目次</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#cgi" class="sidebar-link">CGI</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#php" class="sidebar-link">PHP</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#servlet" class="sidebar-link">Servlet</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#javaee-spring" class="sidebar-link">JavaEE / Spring</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#ruby-on-rails" class="sidebar-link">Ruby on Rails</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#ajaxの出現-フロントエンド-apiサーバの時代" class="sidebar-link">Ajaxの出現 / フロントエンド+APIサーバの時代</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/bootcamp/server-app/overview/#徳丸本" class="sidebar-link">徳丸本</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><table><tr><td>このハンズオンでやること</td><td>Webアプリケーションを構成する要素の中のサーバサイドの実装技術について簡単に紹介します。</td></tr> <tr><td>想定時間</td><td>1h</td></tr> <tr><td>前提知識・用語</td><td>特になし</td></tr></table> <h1 id="サーバアプリ界隈概要"><a href="#サーバアプリ界隈概要" class="header-anchor">#</a> サーバアプリ界隈概要</h1> <p>ここでいうサーバアプリとは、Webアプリケーションを構成する要素の中のサーバサイドの実装技術のことをなんとなく表現しています。</p> <h2 id="目次"><a href="#目次" class="header-anchor">#</a> 目次</h2> <ol><li>CGI</li> <li>PHP</li> <li>Servlet</li> <li>Java EE / Spring</li> <li>Ruby on Rails</li> <li>Ajaxの出現 / フロントエンド+APIサーバの時代</li></ol> <h2 id="cgi"><a href="#cgi" class="header-anchor">#</a> CGI</h2> <p>(1993年 フォーマルな仕様制定は1997年)</p> <ol><li>Common Gateway Interface</li> <li>WebサーバでHTTPリクエストを受けて、外部プログラムにHTTPリクエストを渡し、外部プログラムの出力をHTTPレスポンスとして返す仕組み。</li> <li>Perlが大流行するきっかけとなった。
<ol><li>Perlは文字列処理が強力 (C言語は文字列処理が貧弱)</li> <li>PerlからMySQL/PostgreSQLに接続してHTTPレスポンスを生成するスタイル</li></ol></li> <li>今日でもPerlで実装されたプロダクトは存続している(MovableTypeとか、mixiとか。CookPadもPerlでスタートしたはず)。</li></ol> <h2 id="php"><a href="#php" class="header-anchor">#</a> PHP</h2> <p>(開発開始は1994年 実質的に最初の公開版PHP3が1997年 本格普及はPHP4で2000年)</p> <ol><li>CGIはHTTPリクエストを受ける毎に、新しいプロセスをforkする必要があり、Webサーバにとって負荷が高かった。</li> <li>Webサーバのモジュールとしてperlを動作させる方法が考案された(mod_perl 1998年)。
<ol><li>しかしPerlはWebサーバのモジュールとして動作させる前提で設計/実装されたものではなく、やや使い勝手が悪かった。</li> <li>類似の技術としてFastCGIというものもあり、これは常駐プロセスとしてCGI実行エンジンを用意しておき、HTTPリクエストを常駐プロセスに流し込むという方法。やはり癖があった。</li></ol></li> <li>最初からWebサーバのモジュールとして実行することを念頭に置いた、Webプログラミングに特化した処理系としてPHPが登場、大流行してPerlを駆逐する。
<ol><li>Facebookも長い間PHPで書かれていた。</li></ol></li></ol> <h2 id="servlet"><a href="#servlet" class="header-anchor">#</a> Servlet</h2> <p>(1996年に初期バージョンが公開 1998年に最初の公式API仕様が確立 2001年にStrutsが登場)</p> <ol><li>1995年Sun Microsystems社がJava言語を売り出した。最初にアピールしたAppletは、Webページの中にJavaのサンドボックス環境を埋め込んでアプリケーションを実行するというものだったが、制約が大きい上にマシンパワーを要求するので、実用的なアプリケーションを作る環境としては、流行らなかった。</li> <li>しかしサーバサイドの技術として発表されたServletは2000年頃から流行し始め、2001年にStrutsが登場するとその人気は決定的になった。
<ol><li>ServletはHTTPリクエストを(CGIのようにプロセスをforkするのではなく)スレッドで処理するので性能が高かった。</li> <li>Javaは静的に型付けされた言語であるため、Javaで書かれたアプリケーションはPHPよりも品質を確保しやすいかった。</li> <li>WebアプリケーションフレームワークであるStrutsを使うと、プログラムを一定のスタイルで記述することを助け、また、大人数で分業することを助けた。規模の大きなエンタープライズシステムの実装が可能になった。</li> <li>Javaで書かれたコードはポータビリティがあり、サーバのOSやCPUが変わっても、そのまま実行することができた。(まだx86系のCPUが市場を独占しておらず、SPARCやAlphaなどのCPUもある程度のシェアを持っていた。)</li></ol></li> <li>かくしてカジュアルな(コンシューマ向けの)WebアプリケーションやPHPで書き、シリアスな(エンタープライズ向けの)WebアプリケーションはJava Servletで書く、という時代が続くことになった。</li></ol> <h2 id="javaee-spring"><a href="#javaee-spring" class="header-anchor">#</a> JavaEE / Spring</h2> <p>(JavaEE 1999年 / Spring 2002年)</p> <ol><li>Sun MicrosystemはServletの成功に気を良くして、これを一層強力に推進してエンタープライズの世界を支配しようと試みた。そうして出てきたのはJavaEE (Enterprise Edition)であった。</li> <li>JavaEEは、エンタープライズアプリケーションを多数のサーバの連携する分散処理を通じて実現することを構想し、その中核技術としてEJB (Enterprise Java Beans)を据えた。EJBを使うと、ネットワーク越しにJavaのオブジェクトが通信し合うことができ、データベースへの永続化も含めてエレガントに処理できるはずだった。Sun Microsystemsの制定したJavaEE仕様を実装するアプリケーションサーバ製品が複数のベンダーから出荷され、活況を呈した。</li> <li>だが、実際のJavaEEアプリケーションサーバ製品は不安定で、性能も悪く、プログラミングも難しいものであった。人々はJavaEEを信じて使い続けていたが、疑問も大きく膨らんでいった。</li> <li>そこに登場したのがSpring Frameworkだった。作者のRod JohnsonがExpertt One-on-One J2EE Design and Developmentとともに世に問うたもので、JavaEE (当時の呼称ではJ2EE) の欠点をハッキリと指摘し、EJB、とりわけEntity Beansを使うことは断念し、POJO (Plain Old Java Object) をベースに開発することを提唱した。また、DI (Dependency Injecttion) のアイデアを普及させ、大規模なJavaアプリケーションを効率よく分業体制で実装する道を切り開いた。</li> <li>Spring Frameworkは一世を風靡しただけでなく、今日まで人気を失なうことなく、利用されている。
<ol><li>StrutsはStrus1の後継バージョンであるStruts2が、Struts1とまったく互換性がなかったため、Struts1を採用していた開発会社に受け入れられず、その後、脆弱性問題を連発したため、今日ではまったく人気がない。</li></ol></li></ol> <h2 id="ruby-on-rails"><a href="#ruby-on-rails" class="header-anchor">#</a> Ruby on Rails</h2> <ol><li>2004年、37 signales社がbasecampというプロジェクト管理アプリケーションの実装に使用していたRuby on RailsというWebアプリケーションフレームワークを発表した。Railsは非常にインパクトのあるフレームワークで、以降のサーバサイドプログラミングの世界を一変させてしまった。</li> <li>その特徴を列挙すると以下のとおり。
<ol><li>2つの哲学。「同じことをくりかえさない DRY: Don't repeat yourself」「設定より規約 Convention over Configuration」
<ol><li>Strutsは、ルーティング(あるURLをどのアクションクラスで処理するかのマッピング)やアクションが処理するリクエストのフォームを記述するクラス、テンプレートの中で使用するタグライブラリの定義など、とにかく多数の設定項目があった。ほとんどの設定項目は、自動的なものであり、設定ファイルのメンテナンスは大量の単純作業であった。</li> <li>しかもそれらの設定ファイルは、互いに関連し合うものだったので、記述ミスをして矛盾があると、期待したように動作しなかった。</li> <li>そこで、多くの現場では、Excelなどで主要設定項目を管理し、そのExcelファイルからマクロで個々の設定ファイルを生成するようなことが行なわれていた。</li> <li>Railsでは、これを「デフォルトで定められているディレクトリ構造や命名規則に沿っているかぎり、設定ファイルは不要とする（特別な場合だけ、設定ファイルを書く）」という方法で解決した。</li> <li>たとえば、RDBMSにあるpersonテーブルに対応するモデルクラスをModelsディレクトリにあるPerson.rbファイルに記述すれば、自動的にDBアクセス可能とする、というような具合である。</li></ol></li></ol></li> <li>コマンドラインユーティリティによる開発のサポート
<ol><li>たとえばあるURLに対応するコントローラクラスのスケルトンをコマンドラインユーティリティから生成することができる。</li> <li>このようなユーティリティを提供することで、開発者を単純作業から解放し、価値あるコードを書くことに集中できるようにした。</li></ol></li> <li>Ruby on Railsに触発されて、他の言語でも同様のフレームワークが多数開発された。
<ol><li>PHP: CakePHP</li> <li>Java: JBoss Seam, Java EE6, Grails(Groovyを使う),</li> <li>Python: Django</li></ol></li></ol> <h2 id="ajaxの出現-フロントエンド-apiサーバの時代"><a href="#ajaxの出現-フロントエンド-apiサーバの時代" class="header-anchor">#</a> Ajaxの出現 / フロントエンド+APIサーバの時代</h2> <ol><li>GoogleマップおよびGMailの出現により「画面遷移を伴わないWebアプリケーション」というものがユーザに認知されるようになった。2005年頃のことである。</li> <li>Googleのエンジニアたちの使った技法は、技術としてはそれ以前から存在していたが誰も注目して来なかったXMLHttpRequestというJavaScriptの機能をはじめて本格的に使用するものだった。
<ol><li>この技法をAsynchronous JavaScript + XMLの頭文字をとってAjax (エイジャックス) と呼ぶようになった。</li></ol></li> <li>Ajaxが人気を集めるようになると、StrutsやRuby on Railsなどが実現してきた、サーバサイド(バックエンド)側でリクエストを処理して画面も生成するというようなスタイルより、クライアント(フロントエンド)側で画面描画をすべて行ない、バックエンドにはAPIサーバのみを置くというスタイルが人気を集めるようになった。
<ol><li>画面遷移を伴わないWebアプリケーションのことをSPA (Single Page Application) などと呼ぶ。</li> <li>このスタイルが定着すると、デスクトップアプリケーションと比較しても遜色ないUIのWebアプリケーションが当り前のように期待されるようになっていった。</li> <li>要求の高度化に応えるために、フロントエンド側のフレームワークが非常に速いペースで開発されているのが今日の状況である。今日、もっとも人気のあるフロントエンド・フレームワークとしてReact (Facebook)、Angular (Google)、Vue.js (Evan You)などがある。</li></ol></li></ol> <h2 id="徳丸本"><a href="#徳丸本" class="header-anchor">#</a> 徳丸本</h2> <p>Webアプリケーションは、われわれの生活に欠かせないものとなっているが、その実装には注意を要する。Webアプリケーションを実装するときには、悪意のユーザによる攻撃を想定しないわけにはいかないのである。</p> <p>安全なWebアプリケーションを実装するための知識を習得するには「徳丸本」と通称される、「体系的に学ぶ 安全なWebアプリケーションの作り方 第2版」を読むことが <em>強く</em> 推奨される。</p> <p><a href="https://www.sbcr.jp/product/4797393163/" target="_blank" rel="noopener noreferrer">https://www.sbcr.jp/product/4797393163/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div><hr> <span>CC BY-SA Licensed | Copyright (c) 2019, Internet Initiative Japan Inc.</span></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/iij/bootcamp/edit/master/src/server-app/overview/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/2/2019, 11:26:47 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/bootcamp/assets/js/app.5aa2cd6e.js" defer></script><script src="/bootcamp/assets/js/2.acfdd0a4.js" defer></script><script src="/bootcamp/assets/js/23.66378ade.js" defer></script><script src="/bootcamp/assets/js/5.d20398c4.js" defer></script><script src="/bootcamp/assets/js/4.a9d4f0c2.js" defer></script>
  </body>
</html>
