(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{561:function(a,e){a.exports="data:image/png;base64,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bqp+swlcmt6m9mK34uMiCUDw4osvypIlS8yxzLGkRYsWctlll5l6BBX7EFCnYJ9OQ0ek+rVbv26PTu3FbUT91V7cJIFuv/DCCybtwLcbIp19QIqBg5dIMyhB8Jei3eyNOgU30fRfW6pf/+nEzz1Se/GzdpLvW0Ikgcd99dVX0rdvX1mxYoXUqFFD/vrrL8mdO7f5/3nnnScDBgzQFEPyevF1C+oUfK2epDun+k0awrRqQO3FbnUnTBIcODh2GWLAgUkcvQxh0F0MdhuLMzp1CnbrWfVrt37dHp3ai9uI+qu9bJMEnTD8pUgve6NOwUu0vX+W6td7zIP8RLWXIGsvdt+VJMTGSK8IQ0Cdgt0mofq1W79ujy4I9sKpwf/8848ce+yxbg/f+vaUJFivYvcHGASn4P6o06dF1W/66NqNkQbBXubMmWO28W/ZssWNIadVG4YkZGRkHM7IyPB84DyzX79+nj9XH5gcAkFwCsmNML3vVv2mt/4THX0Q7EVJQqJa/d/1GknIPnZpe2cQnELaKseFgat+XQAxjZpIhb1s375dunbtKvPnz5eqVavKoEGDpHr16gb1SZMmycMPPyx79uyRW265RZ588kn59NNP5fbbbzdfJR4/frwULlzYbOc///zzTRriiSeeMP9ntx7XsUsvb968mbT47rvvyrBhw2T58uXSuHFjGTFihJx00kkSrT8cQEhbtWrVktdee02KFSsmzZo1k+bNm5u2+dnMmTPl9ddfl88++0x69uwpX3/9tVxzzTUyePBgKVSokPkK8/fffy8//vijSZfQTy9FSYKXaFvyrFQ4BUugC8QwVL+BUJNvOum1vVBfwKR78skny/333y8fffSRDBw4UHbv3i3suuO0XybyMmXKGCLRp08fKVKkiFx11VVyww03SOvWrc0E/O+//8q8efNk5MiRcu+99xqiwL2QhJYtW0r//v2PwvjXX3+V0047TSZOnCinnHKKuefOO++U7t27R+3PqlWrzMGCZcuWlfvuu0/WrFlj/nz44Yem7csvv9z8adeunenjPffcIzfddJMhNnv37pWPP/7YkIzevXsb4vDAAw+Y670UJQleom3Js7x2CpbAFphhqH4DoypfdNRre2EVTwSA1XWJEiUE0sAE+/zzz8uyZctk4cKFZnJFSDPwkcLixYsbkrB//37Jly+fWb0TZWAivuCC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"},562:function(a,e,s){a.exports=s.p+"assets/img/ruby-nginx.eb55bb1c.png"},614:function(a,e,s){"use strict";s.r(e);var t=s(65),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("header-table"),a._v(" "),t("h1",{attrs:{id:"page-frontmatter-title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#page-frontmatter-title"}},[a._v("#")]),a._v(" "+a._s(a.$page.frontmatter.title))]),a._v(" "),t("h2",{attrs:{id:"事前準備"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事前準備"}},[a._v("#")]),a._v(" 事前準備")]),a._v(" "),t("ul",[t("li",[a._v("dockerのインストール")])]),a._v(" "),t("h2",{attrs:{id:"前置き"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置き"}},[a._v("#")]),a._v(" 前置き")]),a._v(" "),t("p",[a._v("現在では様々な言語、フレームワークを使ってWebサーバーアプリケーションの構築を行います。")]),a._v(" "),t("ul",[t("li",[a._v("ruby\n"),t("ul",[t("li",[a._v("rails")])])]),a._v(" "),t("li",[a._v("python\n"),t("ul",[t("li",[a._v("Django")])])]),a._v(" "),t("li",[a._v("go")]),a._v(" "),t("li",[a._v("java")]),a._v(" "),t("li",[a._v("PHP")])]),a._v(" "),t("p",[a._v("上はほんの一例ですが、どの言語で作っても「HTTPリクエストを受け取って何らかのレスポンスを返す」というHTTPサーバーとしての機能を持っていることには変わりありません。")]),a._v(" "),t("p",[a._v("しかし実際の本番環境においては、通常これらのアプリケーションがユーザーからのリクエストを直接受けることはしません。必ずApacheやNginxなど専用のWebサーバーを中継してリクエストを処理します。")]),a._v(" "),t("p",[a._v("なぜこんな二度手間のようなことをするかというと理由は色々ありますが、大雑把に以下のようなものです。")]),a._v(" "),t("ul",[t("li",[a._v("各言語で実装されたHTTPサーバーの機能が貧弱")]),a._v(" "),t("li",[a._v("TLSの終端などをアプリケーション側に実装したくない\n"),t("ul",[t("li",[a._v("証明書の管理などをアプリケーションでやらないといけない")])])]),a._v(" "),t("li",[a._v("HTTPサーバーとして信頼性の高いものを使いたい\n"),t("ul",[t("li",[a._v("脆弱性対策などが一通り行われている")]),a._v(" "),t("li",[a._v("不具合が少ない\n"),t("ul",[t("li",[a._v("HTTPサーバーとしての機能に特化している")]),a._v(" "),t("li",[a._v("世界中で多く使われているため修正が活発")])])])])])]),a._v(" "),t("p",[a._v("このハンズオンではフロントとしてApacheまたはNginxを利用し、裏側のRailsやGo製アプリケーションと連携するような構成を手元で作ってみたいと思います。")]),a._v(" "),t("h2",{attrs:{id:"go-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#go-nginx"}},[a._v("#")]),a._v(" go + nginx")]),a._v(" "),t("h3",{attrs:{id:"echo-serverの起動"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#echo-serverの起動"}},[a._v("#")]),a._v(" echo-serverの起動")]),a._v(" "),t("p",[a._v("まずは比較的シンプルな例としてGo言語で作られたアプリケーションとNginxを連携させてみましょう。なぜシンプルなのかはあとでお話しします。")]),a._v(" "),t("p",[a._v("以下のコマンドでハンズオン用のdockerコンテナにログインしてください。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":8080 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 -it --rm regunorf/bootcamp-go-nginx /bin/bash\n")])])]),t("p",[a._v("このコンテナの中にはgo言語で書かれたリクエストを返すだけのシンプルなechoサーバーと、nginxがインストールされています。ソースコードとDockerfileは "),t("a",{attrs:{href:"https://github.com/ryoya-fujimoto/go-echo-server",target:"_blank",rel:"noopener noreferrer"}},[a._v("ここ"),t("OutboundLink")],1),a._v(" にあります。")]),a._v(" "),t("p",[a._v("dockerにログインしたら試しにecho-serverを起動してみましょう。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@4dd714ba5f7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# echo-server --bind 0.0.0.0:8080")]),a._v("\n")])])]),t("p",[a._v("8080 portで動き始めるので、別のターミナルを開いてcurlを叩くかブラウザからアクセスしてみましょう。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type:application/json'")]),a._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Accept-Encoding:gzip,deflate'")]),a._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{"')]),a._v("bootcamp"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('":"')]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"}"')]),a._v(" localhost:8080\nUser-Agent: curl/7.54.0\nAccept: */*\nContent-Type: application/json\nAccept-Encoding: gzip,deflate\nContent-Length: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("bootcamp:true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("送信したリクエストのheaderとbodyが出力されます。ブラウザでアクセスするとどのようなヘッダーが送信されているか面白いので試してみてください。")]),a._v(" "),t("h3",{attrs:{id:"nginxと連携させる"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginxと連携させる"}},[a._v("#")]),a._v(" nginxと連携させる")]),a._v(" "),t("p",[a._v("echo-serverを立ち上げて外からアクセスできるようにはできましたが、echo-serverにはTLSの終端機能もHTMLなどの静的ファイル配信機能もありません。頑張って実装してもいいですが、ここではnginxにその辺りをやってもらいましょう。\n(TLSは今回やりませんが・・・)")]),a._v(" "),t("p",[t("img",{attrs:{src:s(561),alt:"go-nginx"}})]),a._v(" "),t("p",[a._v("まずはecho-serverの起動方法を変更します。今は外からecho-serverに直接アクセスできてしまいますが、それでは都合が悪いためサーバー内部からしかアクセスできないようにします。")]),a._v(" "),t("p",[a._v("ついでにecho-server起動中も他の作業ができるようにバックグラウンドで実行させておきましょう。echo-serverが起動しているかどうかは"),t("code",[a._v("ps")]),a._v("コマンドなどで確認できます。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ echo-server --bind "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:8080 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 起動できているか確認")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -aux "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" echo-server\n")])])]),t("p",[a._v("バックグラウンドで起動している他に、先ほどのecho-server起動と何が違うでしょうか。試しに先ほどと同じようにブラウザや手元のマシンからcurlなどでアクセスみてもecho-serverにアクセスできません。")]),a._v(" "),t("p",[a._v("しかしecho-serverを起動したdockerの中で"),t("code",[a._v("localhost:8080")]),a._v("にアクセスするとレスポンスが返ってきます。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 手元のwindowsマシンでcurlやブラウザを開くとアクセスできない")]),a._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" localhost:8080\ncurl: "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("52")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" Empty reply from server\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# dockerの中からはアクセスできる")]),a._v("\nroot@4dd714ba5f7b:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# curl localhost:8080")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1:40468 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" GET / "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" time: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2019")]),a._v("-07-21 02:02:09.250992846 +0000 UTC\nUser-Agent: curl/7.58.0\nAccept: */*\n\n\n")])])]),t("p",[a._v("最初の例では"),t("code",[a._v("bind")]),a._v("オプションに"),t("code",[a._v("0.0.0.0:8080")]),a._v("を指定していました。"),t("code",[a._v("0.0.0.0")]),a._v("はざっくり言うと「全てのアドレス」と言う意味で、この場合は「全てのアドレスからのリクエストを受け付ける」と言う設定になります。")]),a._v(" "),t("p",[a._v("反対に2回目の"),t("code",[a._v("127.0.0.1:8080")]),a._v("は"),t("code",[a._v("127.0.0.1 = localhost")]),a._v("からのリクエストからしか受け付けないため、上のような挙動になっています。")]),a._v(" "),t("p",[a._v("ではこの"),t("code",[a._v("localhost")]),a._v("で公開されているecho-serverに、nginxを通してアクセスできるようにしてみましょう。\nnginxの設定ファイルは"),t("code",[a._v("/etc/nginx/nginx.conf")]),a._v("にありますが、設定を見やすくするため"),t("code",[a._v("/etc/nginx/conf.d/")]),a._v("の下に新しく設定ファイルを作っていきます。")]),a._v(" "),t("p",[t("code",[a._v("/etc/nginx/conf.d/bootcamp.conf")]),a._v("というファイルを以下のように作成してください。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("server {\n    listen       80 default_server;\n    server_name  _;\n\n    root /var/www/html;\n    location / {\n        try_files $uri $uri/ =404;\n    }\n    location /echo-server {\n        proxy_pass http://127.0.0.1:8080;\n    }\n}\n")])])]),t("p",[a._v("次にdefaultで作られている設定を削除しておきます（上の内容をこちらに追記しても構いません）。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" /etc/nginx/sites-enabled/default\n")])])]),t("p",[a._v("nginxを起動します")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ nginx\n")])])]),t("p",[a._v("ブラウザなどから"),t("code",[a._v("localhost")]),a._v("にアクセスしてみてください。するとnginxのwelcomeページが表示されるはずです。そして"),t("code",[a._v("localhost/echo-server")]),a._v("というパスにアクセスするとecho-serverからリクエストが返ってきます。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type:application/json'")]),a._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{"')]),a._v("bootcamp"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('":"')]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"}"')]),a._v(" localhost/echo-server\nConnection: close\nContent-Length: "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("15")]),a._v("\nUser-Agent: curl/7.54.0\nAccept: */*\nContent-Type: application/json\nAccept-Encoding: gzip,deflate\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("bootcamp:true"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("無事にgoアプリ＋nginxな構成を作ることができました。今回はecho-serverとの連携に"),t("code",[a._v("localhost")]),a._v("を使いましたが、unixドメインソケットを介して連携することもよく行われます。")]),a._v(" "),t("h2",{attrs:{id:"ruby-apache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ruby-apache"}},[a._v("#")]),a._v(" ruby + apache")]),a._v(" "),t("h3",{attrs:{id:"前書き"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前書き"}},[a._v("#")]),a._v(" 前書き")]),a._v(" "),t("p",[a._v("Go言語やNode.jsで作られたアプリケーションは、大抵の場合複数のリクエストを並行して捌くことが可能です。これはGoの場合はgoroutine、Node.jsは非同期IOという形で並行処理をデフォルトで扱えるような設計になっているためです。")]),a._v(" "),t("p",[a._v("そのため上の例ではnginxからのリクエストを単にそれぞれのアプリケーションに投げつければ、複数のユーザーからアクセスが同時にあっても問題はありませんでした。")]),a._v(" "),t("p",[a._v("それに対してjavaやruby、pythonなどで作られたアプリケーションは通常１度に１つの処理しか行えないため、「マルチプロセス」や「マルチスレッド」という形で並行処理を実現します。そのためプロセスやスレッドを管理するためのソフトウェアが追加で必要になります。")]),a._v(" "),t("p",[t("img",{attrs:{src:s(562),alt:"go-nginx"}})]),a._v(" "),t("p",[a._v("このようなソフトウェアの例としては以下のようなものがあります")]),a._v(" "),t("ul",[t("li",[a._v("ruby\n"),t("ul",[t("li",[a._v("puma")]),a._v(" "),t("li",[a._v("unicorn")]),a._v(" "),t("li",[a._v("passenger")])])]),a._v(" "),t("li",[a._v("java\n"),t("ul",[t("li",[a._v("tomcat")])])]),a._v(" "),t("li",[a._v("python\n"),t("ul",[t("li",[a._v("uWSGI?")])])])]),a._v(" "),t("p",[a._v("pumaやunicornはアプリケーション側に組み込んで並行処理機能を追加するもの、passengerやtomcatはwebサーバー側(Apache)に組み込んでアプリケーションを動かすもの、といったようにツールによって動かし方は様々です。")]),a._v(" "),t("h3",{attrs:{id:"動かしてみる"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#動かしてみる"}},[a._v("#")]),a._v(" 動かしてみる")]),a._v(" "),t("p",[a._v("ここではrubyのアプリケーションをwebサーバーと連携させてみましょう。最近だとpumaやunicornが使われることが多いですが、その場合は先ほどのGoの例と同じようにpumaやunicornをwebアプリとして起動させて、リバースプロキシで連携させます。")]),a._v(" "),t("p",[a._v("同じことをしてもつまらないので、passengerを使ってモジュール組み込みな例を動かしてみましょう。このようにモジュールとして動作させる場合はnginxよりもApacheの方が便利です。")]),a._v(" "),t("p",[a._v("先ほどと同じようにdockerで練習用のコンテナを起動します。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -p "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 --rm -it regunorf/bootcamp-passenger /bin/bash\n")])])]),t("p",[a._v("ソースコードは "),t("a",{attrs:{href:"https://github.com/ryoya-fujimoto/ruby-echo-server",target:"_blank",rel:"noopener noreferrer"}},[a._v("ここ"),t("OutboundLink")],1),a._v(" にあります。アプリケーションは"),t("code",[a._v("/app")]),a._v("ディレクトリにあります。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@f8fb220a22d0:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ls -l")]),a._v("\ntotal "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("20")]),a._v("\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("66")]),a._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" 05:15 Dockerfile\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("45")]),a._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" 04:59 Gemfile\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("325")]),a._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" 05:00 Gemfile.lock\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root  "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" 04:57 README.md\n-rw-r--r-- "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" root root "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("319")]),a._v(" Jul "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("21")]),a._v(" 05:12 app.rb\n")])])]),t("p",[a._v("コンテナには既にrubyの環境が作られているので、"),t("code",[a._v("ruby main.rb")]),a._v("するとアプリケーションが起動します。")]),a._v(" "),t("p",[a._v("ではpassengerの環境を作っていきましょう。まずはgemコマンドでpassengerをインストールします。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@f8fb220a22d0:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# gem install passenger")]),a._v("\nFetching passenger-6.0.2.gem\nBuilding native extensions. This could take a while"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nSuccessfully installed passenger-6.0.2\n"),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" gem installed\n")])])]),t("p",[a._v("そしてapache用のモジュール（プラグイン）をビルドするコマンドを実行します。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@f8fb220a22d0:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# passenger-install-apache2-module")]),a._v("\n")])])]),t("p",[a._v("TUIが起動するので、今回はrubyだけを選択してエンターを押します。\nすると足りてないライブラリが表示されるので、言われるがままインストールしましょう。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y apache2-dev libapr1-dev libaprutil1-dev\n")])])]),t("p",[a._v("もう一度実行するとモジュールのビルドが始まります（結構かかる）。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@f8fb220a22d0:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# passenger-install-apache2-module")]),a._v("\n")])])]),t("p",[a._v("成功すると"),t("code",[a._v("Please edit your Apache configuration file, and add these lines:")]),a._v("というメッセージが表示されます。そこに書いてある内容をapacheの設定ファイルに追記せよとのこと。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("LoadModule passenger_module /usr/local/bundle/gems/passenger-6.0.2/buildout/apache2/mod_passenger.so\n<IfModule mod_passenger.c>\n    PassengerRoot /usr/local/bundle/gems/passenger-6.0.2\n    PassengerDefaultRuby /usr/local/bin/ruby\n</IfModule>\n")])])]),t("p",[a._v("一旦enterを押して抜けましょう。apacheの設定ファイルに以下の内容を追加します。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@0111e4e14e6d:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# vi /etc/apache2/conf-enabled/bootcamp.conf")]),a._v("\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('LoadModule passenger_module /usr/local/bundle/gems/passenger-6.0.2/buildout/apache2/mod_passenger.so\n<IfModule mod_passenger.c>\n    PassengerRoot /usr/local/bundle/gems/passenger-6.0.2\n    PassengerDefaultRuby /usr/local/bin/ruby\n</IfModule>\n\n<VirtualHost *:80>\n  ServerName bootcamp\n  DocumentRoot "/app/public"\n  RackEnv production\n</VirtualHost>\n\n<Directory /app/public>\n  Options FollowSymlinks Includes\n  AllowOverride All\n  AddType text/html .html\n\n  Require all granted\n</Directory>\n')])])]),t("p",[a._v("apacheを起動します。ServerNameについて警告が出ますがひとまず問題ありません。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("root@0111e4e14e6d:/app"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# apachectl restart")]),a._v("\n")])])]),t("p",[a._v("無事起動できたらホストのブラウザなどからアクセスしてみましょう。sinatraアプリが動いていれば成功です。")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" -H "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Content-Type:application/json'")]),a._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"{"')]),a._v("bootcamp"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('":"')]),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"}"')]),a._v(" localhost\n")])])]),t("p",[a._v("１つ目の例と違うのは、sinatraアプリケーションが単体で起動してlocalhostなどをlistenしているのではなく、apacheの一部として起動している点です。この場合はechoアプリケーションを再起動するためにはApacheごと再起動しなければいけません。")]),a._v(" "),t("h2",{attrs:{id:"追加"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#追加"}},[a._v("#")]),a._v(" 追加")]),a._v(" "),t("ul",[t("li",[a._v("apacheが起動している状態で"),t("code",[a._v("/app")]),a._v("以下の"),t("code",[a._v("app.rb")]),a._v("を変更してみましょう。")]),a._v(" "),t("li",[a._v("pumaまたはunicornを使ってapacheまたはnginxとrubyアプリケーションを連携させてみましょう。")])]),a._v(" "),t("credit-footer")],1)}),[],!1,null,null,null);e.default=n.exports}}]);