(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{452:function(s,e,t){"use strict";t.r(e);var a=t(10),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("header-table"),s._v(" "),e("h2",{attrs:{id:"dockerコンテナの管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dockerコンテナの管理"}},[s._v("#")]),s._v(" Dockerコンテナの管理")]),s._v(" "),e("p",[s._v("前回は、Dockerコンテナのイメージの取得からコンテナの構築までを行いました。\nしかし、先ほどの講義では取得したイメージがきちんと取得できているのか？\n起動したコンテナが間違いなく起動しているのか？といった事の確認ができていません。\nコンテナの活用にはこういったDockerコンテナの管理が必要不可欠になります。\n従って本講では、Dockerコンテナを管理する為のコマンドを学習します。")]),s._v(" "),e("h3",{attrs:{id:"docker-images"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-images"}},[s._v("#")]),s._v(" docker images")]),s._v(" "),e("p",[e("code",[s._v("docker images")]),s._v(" コマンドは、ローカル環境に存在するDocker イメージの一覧を表示するコマンドです。現状では、「getting-started」イメージのみが存在すると思います。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" images\nREPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE\ndocker/getting-started                                                    latest       cb90f98fd791   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" months ago    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(".8MB\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("Dockerイメージには、名前の他に「TAG」を付けることができます。TAGでは、主にバージョンを管理していることが多いです。今回表示されている「latest」は最新版であることを意味しています。")]),s._v(" "),e("h3",{attrs:{id:"docker-ps"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-ps"}},[s._v("#")]),s._v(" docker ps")]),s._v(" "),e("p",[e("code",[s._v("docker ps")]),s._v(" コマンドは、ローカル環境に存在するDockerコンテナに関する情報を表示してくれます。現在起動しているコンテナは"),e("code",[s._v("docker ps")]),s._v(" と入力すると表示されます。\nしかしながら今の状態で本コマンドを実行してもヘッダー情報だけで何も表示されないと思います。\nと言うのも"),e("code",[s._v("docker ps")]),s._v("コマンドのデフォルトの動作で表示されるのは永続的に稼働しているコンテナだけだからです。\n既に終了してしまったり、エラーで起動できていないコンテナを確認するためには、オプションで"),e("code",[s._v("-a")]),s._v(" を付けることで表示可能です。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\nCONTAINER ID   IMAGE                    COMMAND                  CREATED         STATUS    PORTS     NAMES\nf908c593f036   docker/getting-started   "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/docker-entrypoint.…"')]),s._v("   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" seconds ago   Created             getting-started\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h3",{attrs:{id:"docker-start、stop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-start、stop"}},[s._v("#")]),s._v(" docker start、stop")]),s._v(" "),e("p",[e("code",[s._v("docker start")]),s._v(" は、コンテナの起動を行うコマンドで、"),e("code",[s._v("docker stop")]),s._v(" は、コンテナを停止するコマンドです。これらのコマンドでは、起動・停止対象のコンテナを選択する必要があるため、引数として"),e("code",[s._v("docker ps")]),s._v(" の表示結果にあった「CONTAINER ID」を設定します。")]),s._v(" "),e("p",[s._v("先ほどの項では"),e("code",[s._v("docker/getting-started")]),s._v("コンテナの起動に"),e("code",[s._v("docker start")]),s._v("を使用していました。\n従って、"),e("code",[s._v("docker/getting-started")]),s._v("コンテナの停止したい時は"),e("code",[s._v("docker stop")]),s._v("を使う事になります。")]),s._v(" "),e("p",[s._v("では、実際に"),e("code",[s._v("docker stop")]),s._v("を使う演習をしてみましょう。\n先ほどは、"),e("code",[s._v("docker/getting-started")]),s._v("をそのまま起動していましたが今回は、daemon動作として簡単なコンテナを作り、それを停止してみましょう。")]),s._v(" "),e("h4",{attrs:{id:"コンテナの起動"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#コンテナの起動"}},[s._v("#")]),s._v(" コンテナの起動")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v(" $ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":80 docker/getting-started\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"起動確認"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#起動確認"}},[s._v("#")]),s._v(" 起動確認")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v(" $ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCONTAINER ID   IMAGE                    COMMAND                  CREATED         STATUS         PORTS                                   NAMES\n6d868b858fd7   docker/getting-started   "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/docker-entrypoint.…"')]),s._v("   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" seconds ago   Up "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" seconds   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8080-"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp, :::8080-"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp   interesting_darwin\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"コンテナの停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#コンテナの停止"}},[s._v("#")]),s._v(" コンテナの停止")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v(" $ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"docker-rm、rmi"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-rm、rmi"}},[s._v("#")]),s._v(" docker rm、rmi")]),s._v(" "),e("p",[e("code",[s._v("docker rm")]),s._v(" と"),e("code",[s._v("docker rmi")]),s._v(" は、それぞれDocker コンテナ、Docker イメージの削除を行うコマンドです。それぞれ引数に「CONTAINER ID」や「IMAGE ID」を設定する必要があります。また、削除したいDocker イメージを元に作成したDocker コンテナが存在する場合削除できません。その際は、事前にDocker コンテナを削除した後に、Docker イメージを削除してください。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" docker/getting-started\ndocker/getting-started\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi docker/getting-started\ndocker/getting-started\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h2",{attrs:{id:"まとめ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#まとめ"}},[s._v("#")]),s._v(" まとめ")]),s._v(" "),e("p",[s._v("ここまで実施することでDockerコンテナの取得から後片付けまでの一通りの作業ができるようになりました。\nしかし、実際に自分好みのDockerイメージを作るにはどうすれば良いでしょうか。\n次項ではDockerイメージの作り方について学びたいと思います。")]),s._v(" "),e("credit-footer")],1)}),[],!1,null,null,null);e.default=r.exports}}]);