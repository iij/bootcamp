(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{261:function(e,s,a){e.exports=a.p+"assets/img/getting-started.a1278e29.png"},552:function(e,s,a){"use strict";a.r(s);var t=a(16),r=Object(t.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("header-table"),e._v(" "),s("h2",{attrs:{id:"おさらい"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#おさらい"}},[e._v("#")]),e._v(" おさらい")]),e._v(" "),s("p",[e._v("それでは実際にDockerを使って仮想環境プラットフォームを作ってみましょう。\n事前準備の項を済ませているならばDocker環境は構築されているはずです。\n下記コマンドを入力し、コマンドが実行できるか確認してください。")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" version\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("上記コマンドが実行できない方は事前にDocker（及びコマンド）のインストールが終わっているか否か確認し、未完了の人は、Docker のインストールを行ってください。")]),e._v(" "),s("h2",{attrs:{id:"docker-コンテナを起動する"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-コンテナを起動する"}},[e._v("#")]),e._v(" Docker コンテナを起動する")]),e._v(" "),s("p",[e._v("Dockerコンテナを使って仮想環境プラットフォームを構築するには、大きく分けて以下のステップを踏む必要があります。")]),e._v(" "),s("ul",[s("li",[e._v("Dockerイメージのビルド")]),e._v(" "),s("li",[e._v("Dockerコンテナの作成")]),e._v(" "),s("li",[e._v("Dockerコンテナの起動")])]),e._v(" "),s("p",[e._v("従って、Dockerコンテナを起動する為に最初にすべきことは"),s("strong",[e._v("Dockerコンテナイメージ")]),e._v("を取得する事になります。")]),e._v(" "),s("p",[e._v("Dockerコンテナイメージは、自分で作成(ビルド)して取得する方法と、作成済みのDockerコンテナイメージを取得する方法の2種類があります。\nまずは、作成済みのイメージを利用してコンテナを起動することを試してみましょう。")]),e._v(" "),s("h3",{attrs:{id:"演習1-dockerコンテナを起動する"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演習1-dockerコンテナを起動する"}},[e._v("#")]),e._v(" 演習1 Dockerコンテナを起動する")]),e._v(" "),s("ul",[s("li",[s("strong",[e._v("docker run")]),e._v("コマンドを使用して"),s("strong",[e._v("getting-started")]),e._v("コンテナを起動する"),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--rm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v(":80 docker/getting-started\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])]),e._v(" "),s("details",[s("summary",[e._v("実行中のログ")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Unable to find image 'docker/getting-started:latest' locally\nlatest: Pulling from docker/getting-started\nc158987b0551: Pull complete\n1e35f6679fab: Pull complete\ncb9626c74200: Pull complete\nb6334b6ace34: Pull complete\nf1d1c9928c82: Pull complete\n9b6f639ec6ea: Pull complete\nee68d3549ec8: Pull complete\n33e0cbbb4673: Pull complete\n4f7e34c2de10: Pull complete\nDigest: sha256:d79336f4812b6547a53e735480dde67f8f8f7071b414fbd9297609ffb989abc1\nStatus: Downloaded newer image for docker/getting-started:latest\n89e2c9780f5caf3b5250013e002e8aaf9f8ea74c2e940eca49b890dfc019ab5e\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br")])])]),e._v(" "),s("ul",[s("li",[e._v("起動の確認\n"),s("ul",[s("li",[e._v("ブラウザを開き、以下のURLを入力します"),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("http://localhost:80\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[e._v("以下のような画面が表示されれば成功です\n"),s("img",{attrs:{src:a(261),alt:"getting-started"}})])])]),e._v(" "),s("li",[e._v("コンテナの終了\n"),s("strong",[e._v("Ctrl + c")]),e._v(" を押す")]),e._v(" "),s("li",[e._v("ターミナルが戻ってくる")])]),e._v(" "),s("h3",{attrs:{id:"発展課題1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#発展課題1"}},[e._v("#")]),e._v(" 発展課題1")]),e._v(" "),s("p",[e._v("先ほどの作業ではフォアグラウンドで実行している為、ターミナルが占有されてしまいます。\nまた、このような起動では例えばssh等で接続している場合はセッション切断と共にコンテナが停止してしまう為、発展課題ではこれを永続化する事をやってみましょう。")]),e._v(" "),s("p",[e._v("デーモン起動をすると、ターミナルは返ってきてしまうため起動確認は "),s("code",[e._v("docker ps")]),e._v("を使って確認します。")]),e._v(" "),s("ul",[s("li",[e._v("コンテナのデーモン起動"),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--rm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v(":80 docker/getting-started\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[e._v("コンテナの起動確認"),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("CONTAINER ID   IMAGE                    COMMAND                   CREATED         STATUS         PORTS                               NAMES\n38ebcf110f45   docker/getting-started   "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/docker-entrypoint.…"')]),e._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("3")]),e._v(" seconds ago   Up "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v(" seconds   "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0:80-"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("/tcp, :::80-"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("/tcp   fervent_shaw\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("ul",[s("li",[e._v("ここで"),s("strong",[e._v("NAMES")]),e._v("に表示されている値を記憶、若しくは記録しておいてください")])])]),e._v(" "),s("li",[e._v("起動の確認\n"),s("ul",[s("li",[e._v("ブラウザを開き、以下のURLを入力します"),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("http://localhost:80\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[e._v("以下のような画面が表示されれば成功です\n"),s("img",{attrs:{src:a(261),alt:"getting-started"}})])])]),e._v(" "),s("li",[e._v("コンテナの終了\n"),s("ul",[s("li",[s("strong",[e._v("docker stop")]),e._v("コマンドを用いてdockerコンテナを停止します")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker stop <NAME>\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[e._v("コンテナが停止したことの確認\n"),s("ul",[s("li",[e._v("ブラウザにて "),s("strong",[s("a",{attrs:{href:"http://localhost",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://localhost"),s("OutboundLink")],1)]),e._v("にアクセスし、アクセスできないことを確認する")]),e._v(" "),s("li",[s("strong",[e._v("docker ps")]),e._v("コマンドを用いて、何も表示されないことを確認する"),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])])])])])]),e._v(" "),s("credit-footer")],1)}),[],!1,null,null,null);s.default=r.exports}}]);