(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{331:function(s,t,e){s.exports=e.p+"assets/img/components-of-kubernetes.51120ad2.svg"},332:function(s,t,e){s.exports=e.p+"assets/img/module_03_pods.ccc5ba54.svg"},333:function(s,t,e){s.exports=e.p+"assets/img/image_clusterip.8223e0b9.svg"},334:function(s,t,e){s.exports=e.p+"assets/img/image_nodeport.5357aa05.svg"},335:function(s,t,e){s.exports=e.p+"assets/img/image_loadbalancer.7df1efb3.svg"},450:function(s,t,e){"use strict";e.r(t);var a=e(10),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("header-table"),s._v(" "),t("h1",{attrs:{id:"kubernetes-ã¦ã‚™ã‚¢ãƒ•ã‚šãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ã¦ã‚™ã‚¢ãƒ•ã‚šãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º"}},[s._v("#")]),s._v(" Kubernetes ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º")]),s._v(" "),t("h2",{attrs:{id:"_0-ã¾ãˆã‹ã‚™ã"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-ã¾ãˆã‹ã‚™ã"}},[s._v("#")]),s._v(" 0. ã¾ãˆãŒã")]),s._v(" "),t("h3",{attrs:{id:"_0-1-æƒ³å®šã—ã¦ã„ã‚‹å—è¬›è€…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-æƒ³å®šã—ã¦ã„ã‚‹å—è¬›è€…"}},[s._v("#")]),s._v(" 0-1. æƒ³å®šã—ã¦ã„ã‚‹å—è¬›è€…")]),s._v(" "),t("p",[s._v("æœ¬è¬›ç¾©ã§ã¯ä»¥ä¸‹ã®å—è¬›è€…ã‚’å¯¾è±¡ã¨ã—ã¦ã„ã¾ã™ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("Kubernetesã¨ã„ã†åå‰ã¯çŸ¥ã£ã¦ã„ã‚‹ãŒã©ã‚“ãªã‚‚ã®ãªã®ã‹ã¯çŸ¥ã‚‰ãªã„")]),s._v(" "),t("li",[s._v("Kuberneteså…¥é–€ã—ã‚ˆã†ã«ã‚‚ä½•ã‹ã‚‰å§‹ã‚ãŸã‚‰ã‚ˆã„ã®ã‹ã‚ã‹ã‚‰ãªã„")]),s._v(" "),t("li",[s._v("Kubernetesã®ä»•çµ„ã¿ãŒã‚ã‹ã‚‰ãªã„")])]),s._v(" "),t("h3",{attrs:{id:"_0-2-å‰æçŸ¥è­˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-å‰æçŸ¥è­˜"}},[s._v("#")]),s._v(" 0-2. å‰æçŸ¥è­˜")]),s._v(" "),t("p",[s._v("ä»¥ä¸‹ã®ç‚¹ã‚’çŸ¥ã‚‰ãªã„ã¨è¬›ç¾©ã«ã¤ã„ã¦ã„ã‘ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("Linuxã®åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰")]),s._v(" "),t("li",[s._v("dockerã®åŸºç¤")])]),s._v(" "),t("p",[s._v("åŠ ãˆã¦ä»¥ä¸‹ã®ç‚¹ã‚’çŸ¥ã£ã¦ã„ã‚‹ã¨è¬›ç¾©ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«èã‘ã¾ã™ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("YAMLãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿æ–¹/æ›¸ãæ–¹")]),s._v(" "),t("li",[s._v("ã‚³ãƒ³ãƒ†ãƒŠã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºç¤")])]),s._v(" "),t("h3",{attrs:{id:"_0-3-äº‹å‰æº–å‚™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-äº‹å‰æº–å‚™"}},[s._v("#")]),s._v(" 0-3. äº‹å‰æº–å‚™")]),s._v(" "),t("ul",[t("li",[s._v("docker / docker-compose ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«")]),s._v(" "),t("li",[s._v("Kubernetesç’°å¢ƒ\n"),t("ul",[t("li",[s._v("ç’°å¢ƒæ§‹ç¯‰ã«è‡ªä¿¡ãŒç„¡ã„äººkatacodaã‚’ä½¿ã£ã¦ãã ã•ã„\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://www.katacoda.com/courses/kubernetes/playground",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.katacoda.com/courses/kubernetes/playground"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("strong",[t("strong",[s._v("å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ãªã®ã§ã‚³ãƒ”ãƒšã™ã‚‹éš›ã¯æ°—ã‚’ä»˜ã‘ã¦ãã ã•ã„")])])])])]),s._v(" "),t("li",[s._v("ãƒ­ãƒ¼ã‚«ãƒ«ã§kubernetesã‚’å‹•ã‹ã—ãŸã„äººã¯kindã‚’ä»¥ä¸‹ã®æ‰‹é †ã§æ§‹ç¯‰ã—ã¦ãã ã•ã„")])])])]),s._v(" "),t("blockquote",[t("p",[s._v("kindã‚’ä½¿ã£ãŸkubernetesç’°å¢ƒã®æ§‹ç¯‰")]),s._v(" "),t("p",[s._v("kindã¯kubernetes in dockerã®ç•¥ã§ã™ã€‚ãã®åã®é€šã‚Šã€dockerã‚’ä½¿ã£ã¦kubernetesç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚\n("),t("a",{attrs:{href:"https://kind.sigs.k8s.io/docs/user/quick-start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§"),t("OutboundLink")],1),s._v(")")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.14.0/kind-linux-amd64")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# chmod +x ./kind")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("dockerãƒ›ã‚¹ãƒˆã‹ã‚‰kindã«å¯¾ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã„ã®ã§kubectlã‚’dockerãƒ›ã‚¹ãƒˆã«å…¥ã‚Œã¾ã™")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("è©¦é¨“çš„ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã—ã¦æ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã‹ç¢ºèªã™ã‚‹")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kind create cluster")]),s._v("\nCreating cluster "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kind"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n âœ“ Ensuring "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" image "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kindest/node:v1.24.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ğŸ–¼ \n âœ“ Preparing nodes ğŸ“¦  \n âœ“ Writing configuration ğŸ“œ \n âœ“ Starting control-plane ğŸ•¹ï¸ \n âœ“ Installing CNI ğŸ”Œ \n âœ“ Installing StorageClass ğŸ’¾ \nSet kubectl context to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kind-kind"')]),s._v("\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-kind\n\nHave a question, bug, or feature request? Let us know"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" https://kind.sigs.k8s.io/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#community ğŸ™‚")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID   IMAGE                  COMMAND                  CREATED          STATUS          PORTS                       NAMES\nd76ca5889d8d   kindest/node:v1.24.0   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/bin/entrâ€¦"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v(" seconds ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v(" seconds   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:35447-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6443")]),s._v("/tcp   kind-control-plane\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl cluster-info --context kind-kind")]),s._v("\nKubernetes control plane is running at https://127.0.0.1:35447\nCoreDNS is running at https://127.0.0.1:35447/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kubectl cluster-info dump'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get node")]),s._v("\nNAME                 STATUS   ROLES           AGE     VERSION\nkind-control-plane   Ready    control-plane   2m43s   v1.24.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("p",[s._v("ç¢ºèªå‡ºæ¥ãŸã‚‰å‰Šé™¤")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kind delete cluster")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("bootcampç”¨ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim cluster.yml ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¼‰ã™ã‚‹")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Cluster\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kind.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("k8s.io/v1alpha4\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("role")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" control"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("plane\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kindest/node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1.24.0@sha256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("0866296e693efe1fed79d5e6c7af8df71fc73ae45e3679af05342239cdc5bc8e\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("role")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" worker\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kindest/node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1.24.0@sha256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("0866296e693efe1fed79d5e6c7af8df71fc73ae45e3679af05342239cdc5bc8e\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("role")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" worker\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kindest/node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1.24.0@sha256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("0866296e693efe1fed79d5e6c7af8df71fc73ae45e3679af05342239cdc5bc8e \n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("role")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" worker\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kindest/node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1.24.0@sha256"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("0866296e693efe1fed79d5e6c7af8df71fc73ae45e3679af05342239cdc5bc8e\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼æ§‹ç¯‰")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kind create cluster --config cluster.yml ")]),s._v("\nCreating cluster "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kind"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n âœ“ Ensuring "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" image "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kindest/node:v1.24.0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ğŸ–¼ \n âœ“ Preparing nodes ğŸ“¦ ğŸ“¦ ğŸ“¦ ğŸ“¦  \n âœ“ Writing configuration ğŸ“œ \n âœ“ Starting control-plane ğŸ•¹ï¸ \n âœ“ Installing CNI ğŸ”Œ \n âœ“ Installing StorageClass ğŸ’¾ \n âœ“ Joining worker nodes ğŸšœ \nSet kubectl context to "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kind-kind"')]),s._v("\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-kind\n\nThanks "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" using kind"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" ğŸ˜Š\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl cluster-info --context kind-kind")]),s._v("\nKubernetes control plane is running at https://127.0.0.1:46863\nCoreDNS is running at https://127.0.0.1:46863/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'kubectl cluster-info dump'")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get node")]),s._v("\nNAME                 STATUS   ROLES           AGE   VERSION\nkind-control-plane   Ready    control-plane   72s   v1.24.0\nkind-worker          Ready    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          33s   v1.24.0\nkind-worker2         Ready    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          33s   v1.24.0\nkind-worker3         Ready    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          32s   v1.24.0\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])])]),s._v(" "),t("h2",{attrs:{id:"_1-kubernetesã¨ã¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-kubernetesã¨ã¯"}},[s._v("#")]),s._v(" 1. Kubernetesã¨ã¯")]),s._v(" "),t("p",[s._v("Kubernetesã¯è¤‡æ•°ã‚µãƒ¼ãƒã§æ§‹æˆã•ã‚ŒãŸåŸºç›¤ä¸Šã§ã‚³ãƒ³ãƒ†ãƒŠç¾¤ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ãŸã‚ãƒ„ãƒ¼ãƒ«ã€Œã‚³ãƒ³ãƒ†ãƒŠã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã€ã¨å‘¼ã°ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚æœ€è¿‘ã§ã¯dockerã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒ†ãƒŠå˜ä½ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¤šããªã‚Šã¾ã—ãŸãŒã€dockerå˜ä½“ã§ã¯è¤‡æ•°å°ã®dockerãƒ›ã‚¹ãƒˆä¸Šã§ã‚³ãƒ³ãƒ†ãƒŠç¾¤ã‚’ä¸€å…ƒç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚è¤‡æ•°ãƒ›ã‚¹ãƒˆã§æ§‹æˆã•ã‚Œã‚‹è¦æ¨¡ã®ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«è€ãˆã‚‰ã‚Œã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’dockerå˜ä½“ã§æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¯å›°é›£ã¨ã•ã‚Œã¦ãã¾ã—ãŸã€‚ãã“ã§è¤‡æ•°ã®dockerãƒ›ã‚¹ãƒˆã«è·¨ã£ã¦ã‚³ãƒ³ãƒ†ãƒŠã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç®¡ç†æ©Ÿèƒ½ãªã©ã‚’ã™ã‚‹ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ãŒç™»å ´ã—ã¾ã—ãŸã€‚")]),s._v(" "),t("p",[s._v("Kubernetesã¯å…ƒã€…GoogleãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ãƒ—ãƒ­ã‚¤ã«åˆ©ç”¨ã—ã¦ã„ãŸBorgã¨å‘¼ã°ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’OSSåŒ–ã—ãŸã‚‚ã®ã§ã€ç¾åœ¨ã¯Linux Foundationå‚˜ä¸‹ã«ã‚ã‚‹CNCF(Cloud Native Computing Foundation)ãŒç®¡ç†ã—ã¦ã„ã¾ã™ã€‚ãƒ©ãƒ³ã‚¯ã¯Graduatedã§æˆç†Ÿã—ãŸCNCFãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ãªã£ã¦ã„ã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€è±†çŸ¥è­˜ã€‘")]),s._v(" "),t("p",[s._v("Kubernetesã¯ã‚®ãƒªã‚·ãƒ£èªã§ã€Œæ“èˆµå£«ã€ã‚„ã€Œãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã€ã‚’æ„å‘³ã—ã€ãƒ­ã‚´ã¯æ“èˆµå£«ã«ã¡ãªã‚“ã§èˆµã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ã•ã‚Œã¦ã„ã¾ã™ã€‚7ã¤ã®ã‚¹ãƒãƒ¼ã‚¯ã¯å½“åˆã®Kubernetesã®ã‚³ãƒ¼ãƒ‰ãƒãƒ¼ãƒ ã€ŒProject Sevenã€ã«ã¡ãªã‚“ã§ã„ã¾ã™ã€‚")])]),s._v(" "),t("p",[s._v("Kubernetesã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸKubernetesã‚µãƒ¼ãƒ“ã‚¹ã‚’æœ€è¿‘ã§ã¯KaaS(Kubernetes as a Service)ã¨è¨€ã„ã€AWSã‚„GCPãªã©ã®å„ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ™ãƒ³ãƒ€ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("Amazon EKS")]),s._v(" "),t("li",[s._v("Google Kubernetes Engine(GKE)")]),s._v(" "),t("li",[s._v("Azure Kubernetes Service(AKS)")])]),s._v(" "),t("p",[s._v("å…ˆã»ã©ã€Œã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã€ã¨è¨€ã„ã¾ã—ãŸãŒã€Kubernetesã¯ãã‚Œå˜ä½“ã§å®Œæˆã™ã‚‹ã‚‚ã®ã§ã¯ãªããƒ­ã‚°åŸºç›¤ã«fluentdã¨elasticsearchã‚’ä½¿ã£ãŸã‚Šã€ãã‚Œãã‚Œã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®ç¹‹ãã“ã¿ãªã©æä¾›å…ƒã«ã‚ˆã£ã¦æ©Ÿèƒ½ã‚„ã‚¹ãƒšãƒƒã‚¯ãŒç•°ãªã‚Šã¾ã™ã€‚ã“ã®ã‚ˆã†ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸKubernetesåŸºç›¤ã®ã“ã¨ã‚’Linuxã®ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã«ä¾‹ãˆã¦ã€ŒKubernetesãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã€ã¨å‘¼ã³ã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("IIJã§ã‚‚ç¤¾å†…å‘ã‘ã®KubernetesåŸºç›¤ã¨ã—ã¦IKE(IIJ Kubernetes Engine)ã®é‹ç”¨ã¨å°å…¥ãŒé€²ã‚“ã§ã„ã¾ã™ã€‚")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.iij.ad.jp/dev/report/iir/040/03.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("IIR"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://eng-blog.iij.ad.jp/kubernetes",target:"_blank",rel:"noopener noreferrer"}},[s._v("IIJã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒ–ãƒ­ã‚°"),t("OutboundLink")],1)])]),s._v(" "),t("p",[s._v("å¾“æ¥ã®VMã§ã®ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã¨æ¯”ã¹ã¦Kubernetesã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒ»ç®¡ç†ãŒæ ¼æ®µã«æ¥½ã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°å¾“æ¥ã®ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã§ã¯ã€ã©ã®VMã«ä½•ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã‹ã®ãƒªã‚½ãƒ¼ã‚¹è¨ˆç®—ã‚’äººãŒè€ƒãˆãªã‘ã‚Œã°ãªã‚‰ãšã€ã‚·ã‚¹ãƒ†ãƒ ãŒã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹ãŸã³ã«å¤šãã®åŠ´åŠ›ã‚’ä½¿ã„ã¾ã—ãŸãŒã€Kubernetesã§ã¯ãƒã‚·ãƒ³ãƒªã‚½ãƒ¼ã‚¹ã‚„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ãƒ—ãƒ¼ãƒ«ã¨ã—ã¦æ‰±ã„è‡ªå‹•ã§ç®¡ç†ã™ã‚‹ãŸã‚ã€ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã«æŸ”è»Ÿã«å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™("),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/tutorials/kubernetes-basics/scale/scale-intro/",target:"_blank",rel:"noopener noreferrer"}},[s._v("è©³ç´°"),t("OutboundLink")],1),s._v(")ã€‚ã¾ãŸã€å¾“æ¥ã§ã¯ã‚·ã‚¹ãƒ†ãƒ ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¡Œã†ãŸã³ã«ã€Œã‚µãƒ¼ãƒ“ã‚¹åœæ­¢â†’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆâ†’ã‚µãƒ¼ãƒ“ã‚¹å†é–‹ã€ã¨ã„ã†æ‰‹é †ã§ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã—ã¦ã„ãŸãŒã€Kubernetesã§ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢ã™ã‚‹ã“ã¨ãªãã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è¡Œã†ã“ã¨ãŒã§ãã€ã‚µãƒ¼ãƒ“ã‚¹å¯ç”¨æ€§ã‚’é«˜ã‚ã¦ãã‚Œã¾ã™("),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/tutorials/kubernetes-basics/update/update-intro/",target:"_blank",rel:"noopener noreferrer"}},[s._v("è©³ç´°"),t("OutboundLink")],1),s._v(")ã€‚")]),s._v(" "),t("p",[s._v("ä¸Šè¨˜ä»¥å¤–ã«ã‚‚å¤šãã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã€Kubernetesã§ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºã‚’è¡Œã†ã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ä½œæ¥­ãŒåŠ‡çš„ã«æ¸›ã‚‹ä»–ã€APIãªã©ã‹ã‚‰ã®è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ãªã©ã‚‚éå¸¸ã«ç°¡å˜ã«è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_2-kubernetesã®åŸºæœ¬æ§‹é€ "}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-kubernetesã®åŸºæœ¬æ§‹é€ "}},[s._v("#")]),s._v(" 2. Kubernetesã®åŸºæœ¬æ§‹é€ ")]),s._v(" "),t("h3",{attrs:{id:"_2-1-å®£è¨€çš„ãªæ§‹æˆç®¡ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-å®£è¨€çš„ãªæ§‹æˆç®¡ç†"}},[s._v("#")]),s._v(" 2-1. å®£è¨€çš„ãªæ§‹æˆç®¡ç†")]),s._v(" "),t("p",[s._v("Kubernetesä¸Šã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš›ã€ãã®æ§‹æˆç®¡ç†ã¯å®£è¨€çš„ã«è¡Œã‚ã‚Œã¾ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„äººã¯ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãã‚Œã‚’æ§‹æˆã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠç¾¤ã¯ã“ã®ã‚ˆã†ãªé…ç½®ã§ã‚ã‚‹ã¹ãã€ã¨ã„ã†å®£è¨€(manifest)ã‚’"),t("strong",[s._v("ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«")]),s._v("ã«è¨˜è¼‰ã™ã‚‹ã“ã¨ã§ã€Kubernetesã¯ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«æ²¿ã£ãŸæ§‹æˆã‚’å®£è¨€ã©ãŠã‚Šã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªæ§‹æˆç®¡ç†æ–¹æ³•ã¯IaC(Infrastructure as a Code)ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€AnsibleåŒæ§˜ã«å†ªç­‰æ€§ã®ç¢ºä¿ã‚„è‡ªå‹•åŒ–ã«è²¢çŒ®ã—ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªæ§‹æˆç®¡ç†æ–¹æ³•ã®ä¸»ãªãƒ¡ãƒªãƒƒãƒˆã¯Gitã«ã‚ˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã®ã—ã‚„ã™ã•ãŒæŒ™ã’ã‚‰ã‚Œã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("Ansibleã§ã€ŒPlaybookã€ã¨å‘¼ã°ã‚Œã¦ã„ã‚‹ã‚‚ã®ãŒKubernetesã§ã„ã†ã€ŒManifestã€ã§ã™ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"_2-2-ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚šãƒ¬ãƒ¼ãƒ³ã¨ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã‚™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚šãƒ¬ãƒ¼ãƒ³ã¨ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã‚™"}},[s._v("#")]),s._v(" 2-2. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã¨ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v(" "),t("p",[s._v("Kubernetesã¯å¤§ããåˆ†ã‘ã¦2ã¤ã®è¦ç´ ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚"),t("strong",[s._v("ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³")]),s._v("ã¨"),t("strong",[s._v("ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v("ã§ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("æ–‡çŒ®ã«ã‚ˆã£ã¦ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã®ã“ã¨ã‚’"),t("strong",[s._v("ãƒã‚¹ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v("ã¨è¡¨è¨˜ã™ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€åŒã˜æ„å‘³ãªã®ã§èª¤è§£ã®ç„¡ã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚")])]),s._v(" "),t("p",[t("img",{attrs:{src:e(331),alt:"component"}})]),s._v(" "),t("h4",{attrs:{id:"_2-2-1-ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚šãƒ¬ãƒ¼ãƒ³"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ•ã‚šãƒ¬ãƒ¼ãƒ³"}},[s._v("#")]),s._v(" 2-2-1. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³")]),s._v(" "),t("p",[s._v("ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã¯Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å…¨ä½“ã®çŠ¶æ…‹ã®ç®¡ç†ã‚’è¡Œã†ã“ã¨ãŒä¸»ãªä»•äº‹ã§ã™ã€‚ä¾‹ãˆã°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºè€…ãŒå®£è¨€ã—ãŸãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã©ãŠã‚Šã«ä½œã‚‰ã‚ŒãŸPodãŒãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰ã«å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ã‹ã‚’ç›£è¦–ã—ã€å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ãªã‹ã£ãŸå ´åˆã¯ãã®Podã‚’å®Ÿè¡Œã™ã‚‹ãƒãƒ¼ãƒ‰ã‚’å„ã®ãƒãƒ¼ãƒ‰ã®ãƒªã‚½ãƒ¼ã‚¹çŠ¶æ³ã‚’è€ƒæ…®ã—ã¦å‰²ã‚Šå½“ã¦ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’"),t("strong",[s._v("kube-schduler")]),s._v("ã¨è¨€ã„ã¾ã™ã€‚ä»–ã«ã‚‚ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã£ã¦å®£è¨€ã•ã‚ŒãŸæ§‹æˆæƒ…å ±ã‚’é–²è¦§/ç·¨é›†ã™ã‚‹ãŸã‚ã®APIã‚µãƒ¼ãƒã®å½¹å‰²ã‚’æœãŸã™"),t("strong",[s._v("kube-apiserver")]),s._v("ãªã©ãŒã‚ã‚Šã¾ã™ã€‚(ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚çŸ¥ã‚ŠãŸã„äººã¯"),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/concepts/overview/components/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ãƒšãƒ¼ã‚¸"),t("OutboundLink")],1),s._v("ã¸)")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Podã¨ã¯ã€‘")]),s._v(" "),t("p",[s._v("Kubernetesã¯ã‚³ãƒ³ãƒ†ãƒŠã‚’ã€Œpodã€ã¨å‘¼ã°ã‚Œã‚‹å˜ä½ã§ç®¡ç†ã—ã¾ã™ã€‚podã«ã¯ã„ãã¤ã‹ã®ã‚³ãƒ³ãƒ†ãƒŠã®é›†ã¾ã‚Šã§ã€åŒã˜podã«æ‰€å±ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠåŒå£«ã¯localhostã§ãŠäº’ã„ã«é€šä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\n"),t("img",{attrs:{src:e(332),alt:"Pod"}}),s._v("\nPodã«ã©ã®ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒŠã‚’åŒå±…ã•ã›ã‚‹ã®ã‹ã¯è¨­è¨ˆæ¬¡ç¬¬ã§ã™ãŒã€ä¾‹ãˆã°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ã‚°ã‚’é›†ã‚ã‚‹ã‚³ãƒ³ãƒ†ãƒŠã‚’åŒã˜podã«åŒå±…ã•ã›ãŸã‚Šã€nginxãªã©webã®ãƒ•ãƒ­ãƒ³ãƒˆã«ãªã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åŒå±…ã•ã›ãŸã‚Šã—ã¾ã™ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_2-2-2-ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã‚™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã‚™"}},[s._v("#")]),s._v(" 2-2-2. ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v(" "),t("p",[s._v("ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰ã¯Podã®ç®¡ç†ã‚„Podã®å®Ÿè¡Œç’°å¢ƒ/é€šä¿¡æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã“ã¨ãŒä¸»ãªä»•äº‹ã§ã™ã€‚ä¾‹ãˆã°ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚‹"),t("strong",[s._v("kube-apiserver")]),s._v("ã‹ã‚‰å—ã‘å–ã£ãŸæ§‹æˆæƒ…å ±ã©ãŠã‚Šã«PodãŒç¨¼åƒã™ã‚‹ã‚ˆã†ã«ç®¡ç†ã—ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’"),t("strong",[s._v("kubelet")]),s._v("ã¨è¨€ã„ã¾ã™ã€‚ãŸã ã—kubeletã¯å®Ÿéš›ã«Podã‚’ä½œæˆã—ãŸã‚Šã€ãã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã¯ã›ãšã€ã‚ãã¾ã§ã‚‚ãƒãƒ¼ãƒ‰ä¸Šã®PodçŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã‚ˆã†ã«ç®¡ç†ã™ã‚‹ã“ã¨ãŒä»•äº‹ã§ã™ã€‚å®Ÿéš›ã«Podã‚’ä½œã£ãŸã‚Šã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’"),t("strong",[s._v("ã‚³ãƒ³ãƒ†ãƒŠãƒ©ãƒ³ã‚¿ã‚¤ãƒ ")]),s._v("ã¨è¨€ã„ã¾ã™ã€‚ä»–ã«ã¯ã€å¾Œç¨‹å‡ºã¦ãã¾ã™ãŒServiceå®›ã®é€šä¿¡ã‚’ç¨¼åƒä¸­ã®Podç¾¤ã¸è»¢é€ã•ã›ã‚‹"),t("strong",[s._v("kube-proxy")]),s._v("ãªã©ãŒã‚ã‚Šã¾ã™ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_2-3-kubernetesã®åŸºæœ¬æ§‹é€ ã¾ã¨ã‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-kubernetesã®åŸºæœ¬æ§‹é€ ã¾ã¨ã‚"}},[s._v("#")]),s._v(" 2-3. Kubernetesã®åŸºæœ¬æ§‹é€ ã¾ã¨ã‚")]),s._v(" "),t("p",[s._v("Kubernetesã¯ä¸»ã«"),t("strong",[s._v("ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³")]),s._v("ã¨"),t("strong",[s._v("ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v("ã«åˆ†ã‘ã‚‰ã‚Œã¦ãŠã‚Šã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å…¨ä½“ã®çŠ¶æ…‹ç®¡ç†ã€ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‹ã‚‰ã®æŒ‡ç¤ºé€šã‚Šã«ãƒ¦ãƒ¼ã‚¶ã«ã‚ˆã£ã¦å®£è¨€ã•ã‚ŒãŸæ§‹æˆã‚’ä½œã‚Šä¸Šã’ã‚‹ã“ã¨ãŒå½¹å‰²ã§ã—ãŸã€‚ãã—ã¦ã€ãã‚Œãã‚Œã®å½¹å‰²ã‚’æœãŸã™ãŸã‚ã«å¤šãã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†…è”µã•ã‚Œã¦ã„ã‚‹ã€ã¨ã„ã†è©±ã§ã—ãŸã€‚å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¤ã„ã¦ã‚‚ã£ã¨è©³ã—ãçŸ¥ã‚ŠãŸã„æ–¹ã¯"),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/concepts/architecture/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ãƒšãƒ¼ã‚¸"),t("OutboundLink")],1),s._v("ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_3-ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹"}},[s._v("#")]),s._v(" 3. ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹")]),s._v(" "),t("h3",{attrs:{id:"_3-1-kubernetesã‚ªãƒ•ã‚™ã‚·ã‚™ã‚§ã‚¯ãƒˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-kubernetesã‚ªãƒ•ã‚™ã‚·ã‚™ã‚§ã‚¯ãƒˆ"}},[s._v("#")]),s._v(" 3-1. Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ")]),s._v(" "),t("p",[s._v("å…ˆã»ã©ã‚‚èª¬æ˜ã—ãŸã‚ˆã†ã«ã€Kubernetesä¸Šã«Podãªã©ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éš›ã€ãƒ¦ãƒ¼ã‚¶ã¯ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã„ãã¤ã‹ã®Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ã€ãƒ¦ãƒ¼ã‚¶ã®æ„å›³ã™ã‚‹çŠ¶æ…‹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¼‰ã•ã‚ŒãŸKubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã«ã‚ˆã£ã¦èª­ã¿å–ã‚‰ã‚Œã€èª­ã¿å–ã‚‰ã‚ŒãŸKubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒå­˜åœ¨ã—ç¶šã‘ã‚‹ã‚ˆã†ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å…¨ä½“ã‚’ç®¡ç†ã—ã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‘")]),s._v(" "),t("p",[s._v("Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ãƒ‘ãƒ¼ãƒ„ã§ã™ã€‚ä»¥ä¸‹ã«Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¾‹ã¨ç°¡å˜ãªèª¬æ˜ã‚’è¨˜è¼‰ã—ã¾ã™")]),s._v(" "),t("ul",[t("li",[s._v("ReplicaSet: Podç¾¤ã®ç¨¼åƒçŠ¶æ³ã‚’ç®¡ç†ã™ã‚‹")]),s._v(" "),t("li",[s._v("Deploymentï¼šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ç›¸å½“ã™ã‚‹ReplicaSetã‚’ç®¡ç†ã™ã‚‹")]),s._v(" "),t("li",[s._v("CronJobï¼šå®šæœŸå®Ÿè¡Œã™ã‚‹podã‚’ç®¡ç†ã™ã‚‹")]),s._v(" "),t("li",[s._v("Serviceï¼šç‰¹å®šã®ãƒ©ãƒ™ãƒ«ã‚’æŒã¡ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã§ãã‚‹çŠ¶æ…‹ã®Podç¾¤ã¸ã®æ¥ç¶šã‚’æä¾›ã™ã‚‹")]),s._v(" "),t("li",[s._v("Ingressï¼šè¨¼æ˜æ›¸ã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’é€šã—ã¦å¤–éƒ¨ã‹ã‚‰ã®é€šä¿¡ã‚’åˆ¶å¾¡ã™ã‚‹")]),s._v(" "),t("li",[s._v("PersistentVolumeï¼šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã©ã®æ°¸ç¶šåŒ–volumeã‚’ç®¡ç†ã™ã‚‹")])]),s._v(" "),t("p",[s._v("ä»£è¡¨çš„ãªç‰©ã‚’ä¸Šã’ã¾ã—ãŸãŒã€ä»–ã«ã‚‚è‰²ã€…ã‚ã‚Šã¾ã™ã€‚èˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯"),t("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.22/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ã‚µã‚¤ãƒˆ"),t("OutboundLink")],1),s._v("å‚ç…§ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"_3-2-deployment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-deployment"}},[s._v("#")]),s._v(" 3-2. Deployment")]),s._v(" "),t("p",[s._v("ä¸Šã§ã‚‚è¿°ã¹ãŸé€šã‚ŠDeploymentã¯Podã®ç¨¼åƒçŠ¶æ³ã‚’ç®¡ç†ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚äºˆã‚èµ·å‹•ã™ã‚‹Podã®æ•°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ä½•ã‹ã—ã‚‰ã®åŸå› ã§PodãŒæ¶ˆå¤±ã—ã¦ã‚‚è‡ªå‹•ã§ç«‹ã¡ä¸Šã’ç›´ã—ã¦ãã‚ŒãŸã‚Šã€é€†ã«å¤šã™ãã‚‹å ´åˆã¯çµ‚äº†ã•ã›ã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("ç¾åœ¨ç¨¼åƒã—ã¦ã„ã‚‹Podã¯ã€kubectlã¨ã„ã†cliãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ç¢ºèªã§ãã¾ã™ã€‚\nä»Šã¯ä½•ã‚‚ç¨¼åƒã—ã¦ãªã„ã¯ãšã§ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€kubectlã€‘")]),s._v(" "),t("p",[s._v("Kubernetesã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã«ã¯Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æ§‹æˆç®¡ç†æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æä¾›ã™ã‚‹"),t("strong",[s._v("kube-apiserver")]),s._v("ãŒã‚ã‚Šã¾ã™ãŒã€ç”Ÿèº«ã®äººé–“ãŒAPIã‚’ç”Ÿã§å©ã„ã¦"),t("strong",[s._v("kube-apiserver")]),s._v("ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã¯å°‘ã—ã‚­ãƒ„ã‚¤ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ãã“ã§APIã‚’ã‚³ãƒãƒ³ãƒ‰ã§æ“ä½œã§ãã‚‹"),t("strong",[s._v("kubectl")]),s._v("ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã€kubectlã‚’ä½¿ã†ã“ã¨ã«ã‚ˆã‚Šã‚³ãƒãƒ³ãƒ‰ãƒ™ãƒ¼ã‚¹ã§APIã‚’å©ãã“ã¨ãŒã§ãã¾ã™ã€‚")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl get pods\nNo resources found in default namespace.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ä»¥ä¸‹ã®ã‚ˆã†ãªãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’"),t("code",[s._v("app.yml")]),s._v("ã¨ã—ã¦ä½œæˆã—ã€Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n"),t("code",[s._v("image")]),s._v("ã¨ã—ã¦æŒ‡å®šã—ã¦ã„ã‚‹ã®ã¯ã‚µãƒ³ãƒ—ãƒ«ç”¨ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matchLabels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gcr.io/google"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("samples/node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restartPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Always\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("blockquote",[t("p",[s._v("ã€Deploymentã«ãŠã‘ã‚‹å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€‘")]),s._v(" "),t("p",[s._v("Kubernetesã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¼‰ã™ã‚‹éš›ã€å¿…ãšä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")]),s._v(" "),t("ul",[t("li",[s._v("apiVersionï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®APIVersionã‚’æŒ‡å®š")]),s._v(" "),t("li",[s._v("kindï¼šã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‹ã‚’æŒ‡å®š")]),s._v(" "),t("li",[s._v("metadataï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç‰¹å®šã™ã‚‹ãŸã‚ã®æƒ…å ±ã‚’æŒ‡å®š")]),s._v(" "),t("li",[s._v("specï¼šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æŒ‡å®š")])])]),s._v(" "),t("p",[t("code",[s._v("apiVersion")]),s._v("ã«ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®APIVersionã‚’æ›¸ãã¾ã™ã€‚\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆAPIãŒã©ã®APIGROUPã«å±ã—ã¦ã„ã‚‹ã‹ã§apiVersionã®æ›¸ãæ–¹ãŒå¤‰ã‚ã£ã¦ãã¾ã™ã€‚\nä»Šå›ã¯Deploymentã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§ãã®APIã‚°ãƒ«ãƒ¼ãƒ—ã‚’èª¿ã¹ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl api-resources\nNAME                              SHORTNAMES         APIGROUP                           NAMESPACED   KIND\nbindings                                                                                true         Binding\ncomponentstatuses                 cs                                                    false        ComponentStatus\nconfigmaps                        cm                                                    true         ConfigMap\n...\ndeployments                       deploy             apps                               true         Deployment\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("ã“ã“ã§ã¯DeploymentãŒ"),t("code",[s._v("apps")]),s._v("ã«å±ã—ã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚\nã‚‚ã—APIGROUPãŒç©ºã®å ´åˆã¯Core groupã«å±ã™ã‚‹ãŸã‚ã€"),t("code",[s._v("apiVersion: v1")]),s._v("ã§å•é¡Œãªã„ã§ã™ã€‚\næ¬¡ã«APIGROUPã§åˆ©ç”¨å¯èƒ½ãªversionã‚’èª¿ã¹ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl api-versions | grep apps\napps/v1\napps/v1beta1\napps/v1beta2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ã“ã“ã§ã¯3ã¤ã»ã©å‡ºã¾ã—ãŸãŒã€ã“ã®ä¸­ã®æœ€ã‚‚æ–°ã—ã„versionã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚\nä»Šå›ã¯"),t("code",[s._v("apps/v1")]),s._v("ã‚’ä½¿ã£ã¦ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚")]),s._v(" "),t("p",[s._v("yamlã‚’ä½œæˆã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl apply -f app.yml\ndeployment.apps/bootcamp created\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("åˆ¥ç«¯æœ«ã§"),t("code",[s._v("get pods")]),s._v("ã—ãªãŒã‚‰podãŒä½œã‚‰ã‚Œã‚‹æ§˜å­ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†"),t("code",[s._v("-w")]),s._v("ã‚’ã¤ã‘ã‚‹ã¨è‡ªå‹•ã§è¡¨ç¤ºã‚’æ›´æ–°ã—ã¦ãã‚Œã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl get pods -w\nNAME                        READY   STATUS              RESTARTS   AGE\nbootcamp-6bcddb7cf8-jpzg5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11s\nbootcamp-6bcddb7cf8-tq2fs   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11s\nbootcamp-6bcddb7cf8-jpzg5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          83s\nbootcamp-6bcddb7cf8-tq2fs   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          84s\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("code",[s._v("Running")]),s._v("ã¨ãªã£ã¦ã„ã‚Œã°ç„¡äº‹ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¾ã—ãŸã€‚ä»Šå›ã¯"),t("code",[s._v("replicas")]),s._v("ã«"),t("code",[s._v("2")]),s._v("ã‚’æŒ‡å®šã—ãŸã®ã§podãŒ2å€‹èµ·å‹•ã—ã¦ã„ã¾ã™ã€‚"),t("code",[s._v("replicas")]),s._v("ã®å€¤ã‚’å¤‰ãˆã¦å†åº¦"),t("code",[s._v("kubectl apply")]),s._v("ã—ã¦éŠã‚“ã§ã¿ã¾ã—ã‚‡ã†ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_3-3-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-service"}},[s._v("#")]),s._v(" 3-3. Service")]),s._v(" "),t("p",[s._v("Podã®èµ·å‹•ãŒã§ãã¾ã—ãŸã®ã§ã€æ¬¡ã¯Podã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è©¦ã¿ã¾ã™ã€‚Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§ã¯Podç¾¤ã¸ã®ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãƒ¼ã®æ–¹æ³•ã¨ã—ã¦Serviceã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚Serviceã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§Podç¾¤ã«å…±é€šã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å‰²ã‚Šå½“ã¦ã€ã¾ã‚‹ã§ä¸€ã¤ã®ã€Œã‚µãƒ¼ãƒ“ã‚¹ã€ã§ã‚ã‚‹ã‹ã®ã‚ˆã†ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Podã¨Serviceã®é–¢ä¿‚ã€‘")]),s._v(" "),t("p",[s._v("Podã¯ç”Ÿæˆã®åº¦ã«IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ä½•ã‹ã—ã‚‰ã®ç†ç”±ã§PodãŒè½ã¡ã¦åˆ¥ã®PodãŒå†ç”Ÿæˆã•ã‚Œã‚‹ã¨ãã«ã‚‚IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã¾ã™ãŒã€è½ã¡ãŸPodã¨åŒã˜IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã‚‹ã¨ã¯é™ã‚Šã¾ã›ã‚“ã€‚ã“ã†ãªã£ãŸå ´åˆã«æ–°ã—ã„Podã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„åˆ¥Podã¯æ–°ã—ã„Podã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã‚ã‹ã‚‰ãªããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚Serviceã¯ã“ã®ã‚ˆã†ãªPodã‚’å…±é€šã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã§ç®¡ç†ã—ã€Podã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚„ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã‚’è¡Œã†å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€Serviceã®ç”Ÿæˆã«ã‚ˆã‚ŠKubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®"),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/tasks/administer-cluster/coredns/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CoreDNS"),t("OutboundLink")],1),s._v("ã®A/AAAAãƒ¬ã‚³ãƒ¼ãƒ‰ã‚„Podå†…ã®"),t("code",[s._v("resolve.conf")]),s._v("ãŒè‡ªå‹•çš„ã«æ›¸ãæ›ãˆã‚‰ã‚Œã‚‹ãŸã‚ã€Serviceåã‚’ä½¿ã£ã¦Podã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã«ãªã‚Šã¾ã™ã€‚")])]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Serviceã‹ã‚‰Podã¸ã®é€šä¿¡ã®å—ã‘æ¸¡ã—ã€‘")]),s._v(" "),t("p",[s._v("ServiceãŒä½œã‚‰ã‚Œã‚‹ã¨Serviceå®›ã®é€šä¿¡ãŒPodã¸è»¢é€ã•ã‚Œã¾ã™ãŒã€ãã®ä»•çµ„ã¿ã¯"),t("strong",[s._v("ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒ‰")]),s._v("å†…ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚‹"),t("strong",[s._v("kube-proxy")]),s._v("ã«ã‚ˆã£ã¦å®Ÿç¾ã•ã‚Œã¾ã™ã€‚ã™ã¹ã¦ã®Serviceã¯åŸºæœ¬çš„ã«ClusterIP(ã‚ã¨ã§èª¬æ˜ã—ã¾ã™)ã«ã‚ˆã‚‹VIPã®ä¿æŒãŒç¾©å‹™ä»˜ã‘ã‚‰ã‚Œã¦ãŠã‚Šã€ã¾ãŸClusterIPé…ä¸‹ã®Podã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯endpointã«è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã—ã¦ã€ClusterIPã‹ã‚‰Podã®æŒã¤IPã¸ã®æŒ¯ã‚Šæ›¿ãˆã‚’"),t("strong",[s._v("kube-proxy")]),s._v("ãŒè¡Œã„ã¾ã™ã€‚"),t("strong",[s._v("kube-proxy")]),s._v("ã®æŒ¯ã‚Šæ›¿ãˆæ–¹å¼ã¯ã„ãã¤ã‹é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ãŒã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®"),t("strong",[s._v("iptableãƒ¢ãƒ¼ãƒ‰")]),s._v("ã§ã¯iptablesã®chainãŒã‚ã‚Šã€ã“ã‚Œã«ã‚ˆã£ã¦ãƒ‘ã‚±ãƒƒãƒˆãŒè»¢é€ã•ã‚Œã¾ã™ã€‚ä»–ã®ãƒ¢ãƒ¼ãƒ‰ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„æ–¹ã¯"),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ãƒšãƒ¼ã‚¸"),t("OutboundLink")],1),s._v("ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚")])]),s._v(" "),t("p",[s._v("å…ˆã»ã©ã¨åŒã˜ã‚ˆã†ã«Serviceã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚ä»Šå›ã¯"),t("code",[s._v("service.yml")]),s._v("ã¨ã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("svc\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterIP\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" bootcamp\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("Serviceã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­ã«ã¯æ§˜ã€…ãªã‚µãƒ¼ãƒ“ã‚¹ã‚¿ã‚¤ãƒ—ç¨®é¡ãŒã‚ã‚Šã€ä»Šå›ã¯"),t("code",[s._v("ClusterIP")]),s._v("ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ã‚¿ã‚¤ãƒ—ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚ClusterIPã¯Serviceã«ãŠã‘ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§ã‚ã‚Šã€æ˜ç¤ºçš„ã«è¨˜è¼‰ãŒç„¡ã‘ã‚Œã°"),t("code",[s._v("type: ClusterIP")]),s._v("ãŒè¨­å®šã•ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¿ã‚¤ãƒ—ã€‘")]),s._v(" "),t("p",[s._v("ãã‚Œãã‚Œã®Serviceã®ç‰¹å¾´ã«ã¤ã„ã¦ç°¡å˜ã«è§¦ã‚Œã¾ã™ã€‚å°‘ã—é•·ããªã‚‹ã®ã§è¬›ç¾©ã§ã¯"),t("code",[s._v("ClusterIP")]),s._v("ã®ã¿ã‚’èª¬æ˜ã—ã¾ã™ãŒã€èˆˆå‘³ã®ã‚ã‚‹äººã¯ä»–ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¿ã‚¤ãƒ—ã‚‚èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚")]),s._v(" "),t("h4",{attrs:{id:"clusterip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clusterip"}},[s._v("#")]),s._v(" ClusterIP")]),s._v(" "),t("p",[s._v("ClusterIPã«ã‚ˆã£ã¦å‰²ã‚ŠæŒ¯ã‚‰ã‚Œã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã§ã®ã¿æœ‰åŠ¹ã§ã™ã€‚ä¸»ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å¿…è¦ã®ãªã„ç®‡æ‰€ãªã©ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚¹ã‚’ã™ã‚‹éš›ã«åˆ©ç”¨ã•ã‚Œã¾ã™ã€‚\n"),t("img",{attrs:{src:e(333),alt:"ClusterIP"}})]),s._v(" "),t("h4",{attrs:{id:"nodeport"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nodeport"}},[s._v("#")]),s._v(" NodePort")]),s._v(" "),t("p",[s._v("ClusterIPã‚’ä½œã£ãŸä¸Šã§ã€å…¨nodeå„ã€…ã®"),t("code",[s._v("<ip address:port>")]),s._v("ã§å—ä¿¡ã—ãŸã‚¢ã‚¯ã‚»ã‚¹ã‚’Serviceã¸è»¢é€ã™ã‚‹ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¹ã‚¿å¤–ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚Docker Swarmã§ã„ã†ã¨ã“ã‚ã®"),t("code",[s._v("Expose")]),s._v("ã§ã™ã€‚å›³ã§ã¯å…¨Kubernetes nodeã®"),t("code",[s._v("port:30080")]),s._v("ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’"),t("code",[s._v("NodePort Service")]),s._v("ã«è»¢é€ã—ã¦ã„ã¾ã™ã€‚\n"),t("img",{attrs:{src:e(334),alt:"NodePort"}})]),s._v(" "),t("h4",{attrs:{id:"loadbalancer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loadbalancer"}},[s._v("#")]),s._v(" LoadBalancer")]),s._v(" "),t("p",[s._v("Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚ˆã‚Šæ‰•ã„å‡ºã•ã‚ŒãŸä»®æƒ³IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚NodePortã§ã¯å„nodeã«"),t("code",[s._v("<node ip>:<node port>")]),s._v("ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã€ãƒ¦ãƒ¼ã‚¶ã¯ã„ãšã‚Œã‹ã®ã‚¢ãƒ‰ãƒ¬ã‚¹å®›ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã€ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹nodeã§éšœå®³ãŒèµ·ããŸéš›ã«ãã®nodeã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã§ããªããªã‚Šã¾ã™ã€‚ãã‚Œã«å¯¾ã—ã¦"),t("code",[s._v("type: LoadBalancer")]),s._v("ã¯ã€ãƒ¦ãƒ¼ã‚¶ãŒã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‹ã‚‰æ‰•ã„å‡ºã•ã‚ŒãŸIPã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã¿ã‚’çŸ¥ã£ã¦ãŠãã ã‘ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€nodeã§éšœå®³ãŒèµ·ãã¦ã‚‚ãã®nodeã®åˆ‡ã‚Šé›¢ã—ã‚’è¡Œã†ã‚ˆã†ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¶™ç¶šã—ã¦åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™(ãŸã ã—å¾“æ¥ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ï¼‹ä»®æƒ³ãƒã‚·ãƒ³ã®çµ„ã¿åˆã‚ã›åŒæ§˜ã«ã€éšœå®³æ¤œçŸ¥ã‹ã‚‰é™¤å¤–ã¾ã§ã®é–“ã¯é€šä¿¡æ–­ãŒç™ºç”Ÿã—ã¾ã™)ã€‚ã“ã“ã§ã„ã†ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å¤–ã®ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã¯ãƒ—ãƒ­ãƒã‚¤ãƒ€ã«ä¾å­˜ã—ã¦ãŠã‚Šã€ãŸã¨ãˆã°GCPã®å ´åˆã¯GCLBãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚\n"),t("img",{attrs:{src:e(335),alt:"LoadBalancer"}})])]),s._v(" "),t("p",[s._v("ãã‚Œã§ã¯åŒã˜ã‚ˆã†ã«applyã—ã¦ã‹ã‚‰"),t("code",[s._v("Service")]),s._v("ã®ç¨¼åƒçŠ¶æ³ã‚’ç¢ºèªã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl apply -f service.yml\nservice/bootcamp-svc created\n$ kubectl get svc\nNAME           TYPE        CLUSTER-IP       EXTERNAL-IP   PORT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   AGE\nbootcamp-svc   ClusterIP   xxx.xxx.xxx.xxx   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/TCP    1h\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("æ¬¡ã«å®Ÿéš›ã«Podã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚"),t("code",[s._v("kubectl proxy")]),s._v("ã§ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã®APIã‚µãƒ¼ãƒã«ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¾ã™ã€‚å…ˆã»ã©ã‚‚èª¬æ˜ã—ã¾ã—ãŸãŒ"),t("code",[s._v("type: ClusterIP")]),s._v("ã¯å¤–ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚æ‰‹å…ƒã®ãƒ›ã‚¹ãƒˆã‹ã‚‰ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã¾ã§ã‚’ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã—ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ãƒ¼ãƒ³ã‹ã‚‰Podã¾ã§ã‚’REST APIã‚’ä½¿ã£ã¦é€šä¿¡ã•ã›ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl proxy\nStarting to serve on 127.0.0.1:8001\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ã“ã®ãƒ—ãƒ­ã‚­ã‚·æ©Ÿèƒ½ã¯Serviceã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’RESTã¨ã—ã¦"),t("code",[s._v("/api/v1/namespaces/<namespace>/services/<scheme>:<service>:<port>/proxy/")]),s._v("ã¨è¡¨ç¾ã—ã¦ã„ã‚‹ãŸã‚ã€ä»Šå›ã¯"),t("code",[s._v("http://127.0.0.1:8001/api/v1/namespaces/<your namespace>/services/bootcamp-svc/proxy/")]),s._v("ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("<your namespace>")]),s._v("ã«ã¯ãƒ‡ãƒ—ãƒ­ã‚¤å…ˆã®namespaceã‚’å…¥åŠ›ã—ã¾ã™ã€‚\nnamespaceãŒã‚ã‹ã‚‰ãªã„å ´åˆã¯"),t("code",[s._v("kubectl config get-contexts")]),s._v("ã‹ã‚‰æ¢ã—ã¦ãã ã•ã„ã€‚"),t("code",[s._v("CURRENT")]),s._v("ã«ç±³å°ãŒä»˜ã„ã¦ã„ã‚‹ã‚‚ã®ãŒã„ã¾ä½œæ¥­ã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«ãªã‚Šã¾ã™ã€‚ã‚‚ã—"),t("code",[s._v("NAMESPACE")]),s._v("ã®æ¬„ã«ä½•ã‚‚ãªã‘ã‚Œã°"),t("code",[s._v("namespace: default")]),s._v("ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl config get-contexts\nCURRENT   NAME                CLUSTER    AUTHINFO   NAMESPACE\n          minikube            minikube   nirazuka\n*         nira                nirakube   nirazuka   nirazuka\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("p",[s._v("katacodeã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€RESTã‚’è¾¿ã‚‹ã“ã¨ãŒã§ããªã„ãŸã‚"),t("code",[s._v("kubectl port-foward")]),s._v("ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚"),t("code",[s._v("kubectl port-foward")]),s._v("ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã®ãƒãƒ¼ãƒˆã‚’Podã‚„Serviceã«ç›´æ¥ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl port-forward service/bootcamp-svc --address=0.0.0.0 :80\nForwarding from 0.0.0.0:35715 -> 8080\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("ã‚ã¨ã¯Terminalæ¨ªã®ã€Œï¼‹ã€ãƒœã‚¿ãƒ³ã‹ã‚‰ã€Œselect port to view on Host 1ã€ã‚’é¸æŠã—ã€è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ãƒˆã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚Œã°ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚")]),s._v(" "),t("p",[t("code",[s._v("Hello Kubernetes!")]),s._v(" ãŒè¡¨ç¤ºã•ã‚ŒãŸã§ã—ã‚‡ã†ã‹ã€‚ç„¡äº‹ã«podã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ä»Šå›ã¯Serviceã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…¬é–‹ã—ã¾ã—ãŸãŒã€æœ¬æ¥ã¯Serviceã®ä¸Šã«Ingressã‚’ä½œã£ã¦å…¬é–‹ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚\nIngressã‚’åˆ©ç”¨ã™ã‚‹ã¨SSLã®è¨­å®šã‚„VirtualHostã®è¨­å®šãªã©ã‚’è¡Œãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nèˆˆå‘³ã®ã‚ã‚‹æ–¹ã¯"),t("a",{attrs:{href:"https://kubernetes.io/ja/docs/concepts/services-networking/ingress/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å…¬å¼ãƒšãƒ¼ã‚¸"),t("OutboundLink")],1),s._v("ã‚’å‚è€ƒã«è§¦ã£ã¦ã¿ã¦ä¸‹ã•ã„ã€‚")])]),s._v(" "),t("h3",{attrs:{id:"_3-4-podã‚’å‰Šé™¤ã—ã¦ã¿ã‚‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-podã‚’å‰Šé™¤ã—ã¦ã¿ã‚‹"}},[s._v("#")]),s._v(" 3-4. Podã‚’å‰Šé™¤ã—ã¦ã¿ã‚‹")]),s._v(" "),t("p",[s._v("è©¦ã—ã«æ‰‹å‹•ã§ç„¡ç†ã‚„ã‚Špodã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚"),t("code",[s._v("kubectl get pods -w")]),s._v("ã§ç¢ºèªã—ãªãŒã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§podã‚’å‰Šé™¤ã—ã¦ã¿ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl delete pods "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pod-name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ä¾‹ã«ã‚ˆã£ã¦pod-nameã¯ã‚³ãƒ”ãƒšã—ã¦ãã ã•ã„ã€‚"),t("code",[s._v("kubectl get pods -w")]),s._v("ã—ã¦ã„ã‚‹ã¨Podã®æ•°ãŒ"),t("code",[s._v("replicas")]),s._v("ã®è¨­å®šå€¤ã«åˆã†ã‚ˆã†ã«æ–°ã—ãèµ·å‹•ã•ã‚Œã‚‹æ§˜å­ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl get pods -w\nNAME                        READY   STATUS    RESTARTS   AGE\nbootcamp-6bcddb7cf8-jpzg5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          23m\nbootcamp-6bcddb7cf8-tq2fs   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          23m\nbootcamp-6bcddb7cf8-jpzg5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Terminating   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          23m\nbootcamp-6bcddb7cf8-ffj7f   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Pending       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          0s\nbootcamp-6bcddb7cf8-ffj7f   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Pending       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          0s\nbootcamp-6bcddb7cf8-ffj7f   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          0s\nbootcamp-6bcddb7cf8-ffj7f   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          7s\nbootcamp-6bcddb7cf8-jpzg5   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Terminating         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          23m\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[t("code",[s._v("bootcamp-6bcddb7cf8-jpzg5")]),s._v("ãŒæ‰‹å‹•ã§å‰Šé™¤ã—ãŸpodã§ã™ã€‚"),t("code",[s._v("bootcamp-6bcddb7cf8-jpzg5")]),s._v("ã®å‰Šé™¤ãŒå§‹ã¾ã£ãŸé€”ç«¯ã«æ–°ã—ã"),t("code",[s._v("bootcamp-6bcddb7cf8-ffj7f")]),s._v("ã¨ã„ã†podã‚’ç«‹ã¦ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("ã“ã®ã‚ˆã†ã«podãŒã‚¨ãƒ©ãƒ¼ã§åœæ­¢ã—ãŸã‚Šã€æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãªã©ã§podã‚’åœæ­¢ã—ã¦ã‚‚ã™ãã•ã¾"),t("code",[s._v("ReplicaSet")]),s._v("ãŒçŠ¶æ…‹ã‚’ä¿®å¾©ã—ã¦ãã‚Œã¾ã™ã€‚\nãã‚Œã ã‘ã§ã¯ãªãã€å‰æ®µã®"),t("code",[s._v("Service")]),s._v("ãŒpodã®çŠ¶æ…‹ã‚’ç›£è¦–ã—ãªãŒã‚‰é€šä¿¡ã‚’æµã™å…ˆã‚’æ±ºã‚ã¦ãã‚Œã‚‹ãŸã‚ã€ä¸€éƒ¨ã®podãŒåœæ­¢ã—ã¦ã„ã‚‹é–“ã‚‚è‡ªå‹•çš„ã«ç”Ÿãã¦ã„ã‚‹podã«é€šä¿¡ã‚’æµã—ã¦ãã‚Œã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("ãã®ãŸã‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä¸€åˆ‡å½±éŸ¿ãªãpodã®åœæ­¢ã¨å¾©æ—§ãŒå…¨ã¦è‡ªå‹•ã§å¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚’Kubernetesã¨ã‚³ãƒ³ãƒ†ãƒŠãªã—ã§æ§‹ç¯‰ã™ã‚‹ã®ã¯ã‹ãªã‚Šå›°é›£ã§ã™ã€‚")]),s._v(" "),t("h2",{attrs:{id:"_4-å¿œç”¨-kubernetesã®ç›£è¦–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-å¿œç”¨-kubernetesã®ç›£è¦–"}},[s._v("#")]),s._v(" 4. å¿œç”¨(Kubernetesã®ç›£è¦–)")]),s._v(" "),t("p",[s._v("ã“ã“ã‹ã‚‰ã¯æœ¬æ ¼çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ä½“é¨“ã—ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚katacodeã§ã‚„ã£ã¦ã„ã‚‹æ–¹ã¯ã†ã¾ãã„ã‹ãªã„ã“ã¨ãŒã‚ã‚‹ãŸã‚æœ¬é …ç›®ã¯é£›ã°ã—ã¦ãã ã•ã„ã€‚")]),s._v(" "),t("p",[s._v("ä»Šå›Kubernetesä¸Šã«æ§‹ç¯‰ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ç›£è¦–ãƒ„ãƒ¼ãƒ«ã®Prometheusã§ã€ä»¥ä¸‹ã®é †åºã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚(ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¯"),t("a",{attrs:{href:"https://www.hanmoto.com/bd/isbn/9784910313009",target:"_blank",rel:"noopener noreferrer"}},[s._v("Prometheuså®Ÿè·µã‚¬ã‚¤ãƒ‰"),t("OutboundLink")],1),s._v("ã®å†…å®¹ã‚’ä¸€éƒ¨æ”¹å¤‰ã—ãŸã‚‚ã®ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™)")]),s._v(" "),t("ol",[t("li",[s._v("node exporterã®ãƒ‡ãƒ—ãƒ­ã‚¤")]),s._v(" "),t("li",[s._v("RBACèªå¯ã‚’ä½¿ã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤")]),s._v(" "),t("li",[s._v("Prometheusã®ãƒ‡ãƒ—ãƒ­ã‚¤")])]),s._v(" "),t("h3",{attrs:{id:"_4-1-node-exporterã®ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-node-exporterã®ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[s._v("#")]),s._v(" 4-1. node exporterã®ãƒ‡ãƒ—ãƒ­ã‚¤")]),s._v(" "),t("p",[s._v("node exporterã¯å„ãƒãƒ¼ãƒ‰ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹æƒ…å ±ã‚’åé›†ã™ã‚‹ãƒ„ãƒ¼ãƒ«(exporter)ã§ã™ã€‚ã“ã‚Œã‚’å„nodeã«é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€"),t("code",[s._v("Deployment")]),s._v("ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ã¨é…ç½®nodeã®æŒ‡å®šã‚’éƒ½åº¦è¡Œã†å¿…è¦ãŒã‚ã‚Šç…©é›‘ã§ã™ã€‚ãã®ãŸã‚ã€ã“ã“ã§ã¯"),t("code",[s._v("DeamonSet")]),s._v("ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚"),t("code",[s._v("DeamonSet")]),s._v("ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯å„ãƒãƒ¼ãƒ‰ã«ç­‰ã—ãPodã‚’é…ç½®ã™ã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚"),t("code",[s._v("node-exporter.yml")]),s._v("ã¨ã„ã†åå‰ã§ä»¥ä¸‹ã®å†…å®¹ã®ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DaemonSet\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matchLabels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'prom/node-exporter:v1.3.1'")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9100")]),s._v("\n              "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hostNetwork")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("hostPID")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tolerations")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("role.kubernetes.io/control"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("plane\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("operator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Exists\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("effect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NoSchedule\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9100")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" node"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("exporter\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br")])]),t("p",[s._v("å„ãƒãƒ¼ãƒ‰ã«å¯¾ã—ã¦"),t("code",[s._v("prom/node-exporter:v1.3.1")]),s._v("ã¨ã„ã†ã‚³ãƒ³ãƒ†ãƒŠã‚’1ã¤ãšã¤ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã›ã¦ã„ã¾ã™ã€‚"),t("code",[s._v("hostNetwork")]),s._v("ã¨"),t("code",[s._v("hostPID")]),s._v("ã‚’"),t("code",[s._v("true")]),s._v("ã«ã™ã‚‹ã“ã¨ã§ãƒãƒ¼ãƒ‰ã¨ã‚³ãƒ³ãƒ†ãƒŠã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯/ãƒ—ãƒ­ã‚»ã‚¹IDã‚’å…±æœ‰ã•ã›ã¾ã™ã€‚ã“ã‚Œã¯é€šå¸¸ã€ã‚³ãƒ³ãƒ†ãƒŠã¯ãƒ›ã‚¹ãƒˆã®ç’°å¢ƒã¨ãƒ—ãƒ­ã‚»ã‚¹ç­‰ãŒåˆ†é›¢ã•ã‚ŒãŸçŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€å…±æœ‰ã•ã›ãªã„ã¨Podã‹ã‚‰ãƒãƒ¼ãƒ‰ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ããŸã‚ã§ã™ã€‚"),t("code",[s._v("node-exporter")]),s._v("ã¯å¤–éƒ¨ã‹ã‚‰æ¥ç¶šã•ã›ã‚‹å¿…è¦ãŒãªã„ãŸã‚ã€"),t("code",[s._v("Service")]),s._v("ã¯"),t("code",[s._v("CluserIP")]),s._v("ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("æº–å‚™ãŒå‡ºæ¥ãŸã‚‰"),t("code",[s._v("kubectl apply -f node-exporter.yml")]),s._v("ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f node-exporter.yml")]),s._v("\ndaemonset.apps/node-exporter created\nservice/node-exporter created\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pods")]),s._v("\nNAME                          READY   STATUS    RESTARTS   AGE\nnode-exporter-75rpz           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          47m\nnode-exporter-p25gq           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          47m\nnode-exporter-tcbsp           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          47m\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"_4-2-rbacèªå¯ã‚’ä½¿ã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-rbacèªå¯ã‚’ä½¿ã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[s._v("#")]),s._v(" 4-2. RBACèªå¯ã‚’ä½¿ã£ã¦ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒ‡ãƒ—ãƒ­ã‚¤")]),s._v(" "),t("p",[s._v("Kubernetesã¯Role Based Access Control(RBAC)ã¨ã„ã‚ã‚Œã‚‹ã€å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã§è¡Œã£ã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€ç›£è¦–ã«å¿…è¦ãªãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã«å¿…è¦ãªæ¨©é™ã‚’ãƒ¦ãƒ¼ã‚¶ã«ä»˜ä¸ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã“ã§ã¯æ¨©é™ã®å®šç¾©ã‚’è¡Œã†"),t("code",[s._v("ClusterRole")]),s._v("ã€æ¨©é™ã¨ãƒ¦ãƒ¼ã‚¶ã¨ã®ç´ã¥ã‘ã‚’è¡Œã†"),t("code",[s._v("ClusterRoleBind")]),s._v("ã¨ã„ã†äºŒã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚"),t("code",[s._v("role-based-access-control.yml")]),s._v("ã¨ã„ã†åå‰ã§ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šã€ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rbac.authorization.k8s.io/v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterRole\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("rules")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiGroups")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nodes\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" services\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" endpoints\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" pods\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" metrics\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nodes/metrics\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("verbs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"get"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"list"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"watch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiGroups")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" extensions\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ingresses\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("verbs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"get"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"list"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"watch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nonResourceURLs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" /metrics\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("verbs")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"get"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rbac.authorization.k8s.io/v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterRoleBinding\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("roleRef")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" rbac.authorization.k8s.io\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterRole\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("subjects")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ServiceAccount\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ServiceAccount\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("p",[t("code",[s._v("default")]),s._v("namespaceä¸Šã®"),t("code",[s._v("prometheus")]),s._v("ã¨ã„ã†ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«å¯¾ã—ã¦ã€å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã¸ã®å‚ç…§æ¨©é™ã‚’ä»˜ä¸ã™ã‚‹å†…å®¹ã«ãªã‚Šã¾ã™ã€‚"),t("code",[s._v("kubectl apply -f role-based-access-control.yml")]),s._v("ã‚’å®Ÿè¡Œã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f role-based-access-control.yml ")]),s._v("\nclusterrole.rbac.authorization.k8s.io/prometheus created\nclusterrolebinding.rbac.authorization.k8s.io/prometheus created\nserviceaccount/prometheus created\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("ã“ã‚Œã«ã‚ˆã‚Šã€API Serverãªã©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®èªè¨¼æƒ…å ±ãŒæ‰•ã„å‡ºã•ã‚Œã¾ã—ãŸã€‚")]),s._v(" "),t("h3",{attrs:{id:"_4-3-prometheusã®ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-prometheusã®ãƒ†ã‚™ãƒ•ã‚šãƒ­ã‚¤"}},[s._v("#")]),s._v(" 4-3. Prometheusã®ãƒ‡ãƒ—ãƒ­ã‚¤")]),s._v(" "),t("p",[s._v("æœ€å¾Œã«Prometheusã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã„ã¾ã™ã€‚Prometheusã®ãƒ‡ãƒ—ãƒ­ã‚¤ã«ã¯"),t("code",[s._v("Deployment")]),s._v("ã¨"),t("code",[s._v("Service")]),s._v("ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ãŒã€Prometheusè‡ªä½“ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯"),t("code",[s._v("ConfigMap")]),s._v("ã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åˆ©ç”¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã€ã•ã‚‰ã«Prometheusã«åæ˜ ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚"),t("code",[s._v("prometheus.yml")]),s._v("ã¨ã„ã†ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚Šä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matchLabels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("serviceAccountName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prom/prometheus"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v2.33.3\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("imagePullPolicy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" IfNotPresent\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("args")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("config.file=/prometheus/prometheus.yml\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("log.level=debug\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("web.enable"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("lifecycle\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumeMounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mountPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /prometheus/prometheus.yml\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("subPath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus.yml\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("configMap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ClusterIP\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ConfigMap\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prometheus.yml")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n    global:\n      scrape_interval: 15s\n    scrape_configs:\n    - job_name: 'prometheus'\n      kubernetes_sd_configs:\n      - role: pod\n      relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_name]\n        regex: prometheus-.+\n        action: keep\n    - job_name: 'apiserver'\n      kubernetes_sd_configs:\n        - role: service\n      scheme: https\n      tls_config:\n        ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n      authorization:\n        credentials_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n      relabel_configs:\n      - source_labels:\n        - __meta_kubernetes_namespace\n        - __meta_kubernetes_service_name\n        - __meta_kubernetes_service_port_name\n        action: keep\n        regex: default;kubernetes;https\n    - job_name: 'node-exporter'\n      scheme: http\n      kubernetes_sd_configs:\n      - role: node\n      relabel_configs:\n      - source_labels: [__address__]\n        action: replace\n        regex: (.+):.+\n        replacement: ${1}:9100\n        target_label: __address__")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br")])]),t("p",[s._v("Prometheusã®è¨­å®šã®è©³ç´°ã«ã¤ã„ã¦ã¯å‰²æ„›ã—ã¾ã™ãŒã€4-2ã«ã«ã¦ç™ºè¡Œã—ãŸèªè¨¼æƒ…å ±ã¯"),t("code",[s._v("tls_config")]),s._v("ãªã‚‰ã³ã«"),t("code",[s._v("authorization")]),s._v("ã§æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Prometheusè¬›ç¾©å—è¬›è€…å‘ã‘ã€‘")]),s._v(" "),t("p",[s._v("Prometheusã®è¬›ç¾©å†…ã§ã€ŒPrometheusã®ç‰¹å¾´ã®1ã¤ã«ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªãŒã‚ã‚Šã€ç›£è¦–å¯¾è±¡ã‚’å‹•çš„ã«å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€ã¨è©±ã—ã¾ã—ãŸã€‚\nãã®ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚£ã‚¹ã‚«ãƒãƒªã¯"),t("code",[s._v("kubernetes_sd_configs")]),s._v("ã®éƒ¨åˆ†ã§è¨­å®šã—ã¦ã„ã¾ã™ã€‚"),t("code",[s._v("role")]),s._v("ã¨ã„ã†æ¦‚å¿µã‚’åˆ©ç”¨ã—ã¦Kuberneteså†…ã®å„ç¨®ãƒªã‚½ãƒ¼ã‚¹ã‚’å‹•çš„ã«å–å¾—ã—ã¾ã™ã€‚"),t("code",[s._v("role")]),s._v("ã§å–å¾—ã§ãã‚‹ãƒªã‚½ãƒ¼ã‚¹ã¯ä»¥ä¸‹ã®5ã¤ã§ã™ã€‚")]),s._v(" "),t("ul",[t("li",[s._v("Node")]),s._v(" "),t("li",[s._v("Service")]),s._v(" "),t("li",[s._v("Endpoints")]),s._v(" "),t("li",[s._v("Pod")]),s._v(" "),t("li",[s._v("Ingress")])])]),s._v(" "),t("p",[t("code",[s._v("kubectl apply -f prometheus.yml")]),s._v("ã§Prometheusã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã€ç¢ºèªã‚’è¡Œã„ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f prometheus.yml ")]),s._v("\nservice/prometheus created\ndeployment.apps/prometheus created\nconfigmap/prometheus created\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get all")]),s._v("\nNAME                              READY   STATUS    RESTARTS   AGE\npod/node-exporter-75rpz           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          115m\npod/node-exporter-p25gq           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          115m\npod/node-exporter-tcbsp           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          115m\npod/prometheus-76b579c56c-r7nps   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          115m\n\nNAME                    TYPE        CLUSTER-IP     EXTERNAL-IP   PORT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    AGE\nservice/kubernetes      ClusterIP   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("/TCP    29h\nservice/node-exporter   ClusterIP   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".16.136   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9100")]),s._v("/TCP   115m\nservice/prometheus      ClusterIP   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".128.27   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("/TCP   115m\n\nNAME                           DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE\ndaemonset.apps/node-exporter   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("           "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("          115m\n\nNAME                         READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/prometheus   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("           115m\n\nNAME                                    DESIRED   CURRENT   READY   AGE\nreplicaset.apps/prometheus-76b579c56c   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("       115m\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h3",{attrs:{id:"_4-4-prometheusã®ç¢ºèª"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-prometheusã®ç¢ºèª"}},[s._v("#")]),s._v(" 4-4. Prometheusã®ç¢ºèª")]),s._v(" "),t("p",[s._v("ã²ã¨é€šã‚Šã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã—ãŸã®ã§ã€ã•ã£ããã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚Prometheusã¯"),t("code",[s._v("ClusterIP")]),s._v("ã®é…ä¸‹ã«ã‚ã‚‹ãŸã‚ã€ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ã¦ã‚ã’ã¾ã™ã€‚")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl port-forward svc/prometheus --address 0.0.0.0 8080:9090")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ã€"),t("code",[s._v("Status")]),s._v("ã‚¿ãƒ–ã®"),t("code",[s._v("Targets")]),s._v("ã‚’é–‹ã„ã¦å…¨ã¦å•é¡Œãªãå–å¾—ã§ãã¦ã„ã‚Œã°å®Œäº†ã§ã™ã€‚\n"),t("img",{attrs:{src:"images/prometheus_main-menu.png",alt:"prometheus_main-nemu"}}),s._v("\nã“ã‚Œã§Kuberentesä¸Šã®å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¯¾ã—ã¦ç›£è¦–ã‚’è¡Œã†ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€Prometheusè¬›ç¾©ã‚’å—è¬›ã—ãŸäººå‘ã‘ã€‘")]),s._v(" "),t("p",[s._v("å¼ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰å„ç¨®APIã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹æƒ…å ±ã‚’å–å¾—ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\nã¾ãŸã€Kubernetesä¸Šã§å‹•ãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç›£è¦–ã«ã¯kube-state-metricsã‚„cAdvidsorã¨ã„ã£ãŸã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚’åˆ©ç”¨ã—ã¾ã™ã€‚ä½™è£•ã®ã‚ã‚‹äººã¯Podã®ç›£è¦–ã‚‚è¡Œã£ã¦ã¿ã¦ãã ã•ã„ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"_5-æœ€å¾Œã«"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-æœ€å¾Œã«"}},[s._v("#")]),s._v(" 5. æœ€å¾Œã«")]),s._v(" "),t("p",[s._v("Kubernetesã®ç´¹ä»‹ã¨ä»£è¡¨çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹"),t("code",[s._v("Deployment")]),s._v("ã¨"),t("code",[s._v("Service")]),s._v("ã«ã¤ã„ã¦ç°¡å˜ã«è§¦ã£ã¦ã¿ã¾ã—ãŸã€‚\nKubetenetesã§ã¯ä»–ã«ã‚‚æ§˜ã€…ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„è¨­å®šã‚’ä½¿ã„ã¾ã™ã€‚")]),s._v(" "),t("p",[s._v("ä¾‹ãˆã°")]),s._v(" "),t("ul",[t("li",[s._v("ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹ãŸã‚ã«"),t("code",[s._v("env")]),s._v("ã‚’ä½¿ã†")]),s._v(" "),t("li",[s._v("ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãªã©ã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ãªpodã‚’ç¨¼åƒã•ã›ã‚‹ãŸã‚ã«"),t("code",[s._v("StatefulSet")]),s._v("ã‚’ä½¿ã†")]),s._v(" "),t("li",[s._v("ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ã®ãŸã‚"),t("code",[s._v("PersistentVolume")]),s._v("ã‚„"),t("code",[s._v("PersistentVolumeClaim")]),s._v("ã‚’ä½¿ã†")]),s._v(" "),t("li",[s._v("ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç®¡ç†ã™ã‚‹ã®ã«"),t("code",[s._v("ConfigMap")]),s._v("ã‚’ä½¿ã†")]),s._v(" "),t("li",[s._v("APIã‚­ãƒ¼ã‚„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ç§˜å¯†æƒ…å ±ã‚’æ‰±ã†ãŸã‚ã«"),t("code",[s._v("Secret")]),s._v("ã‚’ä½¿ã†(ãŸã ã—ã‚­ãƒ¼å€¤ã¯base64ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸæ–‡å­—åˆ—)")])]),s._v(" "),t("p",[s._v("ãªã©ãªã©ã§ã™ã€‚"),t("code",[s._v("PersistentVolume")]),s._v("ã‚„"),t("code",[s._v("PersistentVolumeClaim")]),s._v("ãªã©ã¯ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã”ã¨ã«æ‰±ã„æ–¹ãŒé•ã£ãŸã‚Šã—ã¾ã™ã—ã€æ§‹ç¯‰ã—ãŸã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹ã¯æ§˜ã€…ãªã®ã§ä»Šå›ã¯å‰²æ„›ã—ã¾ã—ãŸã€‚")]),s._v(" "),t("p",[s._v("ç¤¾å†…ã§Kubetenetesã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã¯IKEãŒä½¿ã„ã‚„ã™ã„ã‹ã¨æ€ã„ã¾ã™ã®ã§ã€ãœã²ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ãªã©ã‚’çœºã‚ã¦ã¿ã¦ãã ã•ã„ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ã€å‚è€ƒæ–‡çŒ®ã€‘")]),s._v(" "),t("ol",[t("li",[s._v("Kuberneteså®Œå…¨ã‚¬ã‚¤ãƒ‰/é’å±±ä¿¡ä¹Ÿ(ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¹)")]),s._v(" "),t("li",[s._v("ã‚¤ãƒ©ã‚¹ãƒˆã§ã‚ã‹ã‚‹Dockerã¨Kubernetes/å¾³æ°¸èˆªå¹³(æŠ€è¡“è©•è«–ç¤¾)")]),s._v(" "),t("li",[s._v("Docker/Kuberneteså®Ÿè·µã‚³ãƒ³ãƒ†ãƒŠé–‹ç™ºå…¥é–€/å±±ç”°æ˜æ†²(æŠ€è¡“è©•è«–ç¤¾)")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Kuberneteså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"),t("OutboundLink")],1),s._v("/CNCF")]),s._v(" "),t("li",[s._v("Prometheuså®Ÿè·µã‚¬ã‚¤ãƒ‰/ä»²äº€æ‹“é¦¬(ãƒ†ãƒƒã‚­ãƒ¼ãƒ¡ãƒ‡ã‚£ã‚¢)")])])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);